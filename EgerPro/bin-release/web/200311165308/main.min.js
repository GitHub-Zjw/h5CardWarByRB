var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=3>a?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(3>a?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function r(t){try{c(n.next(t))}catch(e){a(e)}}function s(t){try{c(n["throw"](t))}catch(e){a(e)}}function c(t){t.done?o(t.value):new i(function(e){e(t.value)}).then(r,s)}c((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(r=a[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,a=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(n){i=[6,n],a=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var o,a,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},BaseRegion=function(t){function e(){var e=t.call(this)||this;return e._balls=[],e.addEventListener(eui.UIEvent.COMPLETE,e.onUIComplete,e),e}return __extends(e,t),e.prototype.onUIComplete=function(){this.regitEvent()},e.prototype.regitEvent=function(){AllData.instance.addEventListener(GameNotify.GAME_STAR,this.onBegigGame,this)},e.prototype.removeEvent=function(){AllData.instance.removeEventListener(GameNotify.GAME_STAR,this.onBegigGame,this)},e.prototype.onBegigGame=function(){},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.playLineAmi=function(){this.showLine.play(0)},e.prototype.showWinAmi=function(){if(this.playLineAmi(),this.win_img){var t=this.numChildren-1;this.setChildIndex(this.win_img,t),this.win_img.alpha=1}},e.prototype.addBall=function(t,e,i){void 0===i&&(i=!1);for(var n=t.length,o=0;n>o;o++){var a=ObjectPool.instance.pop(BallCom.NAME,t[o],e[o]);this.addChild(a),i?(a.x=this.SelfStarPointX,a.y=this.SelfStarPointY):(a.x=this.StarPointX,a.y=this.StarPointY);var r=this.getEndPoint();a.showJoinAmi(r.x,r.y),this._balls.push(a)}},e.prototype.removeAllBall=function(){for(var t=this._balls.length,e=0;t>e;e++)ObjectPool.instance.push(this._balls[e],"hideBall");this._balls=[]},e.prototype.getEndPoint=function(){var t=new egret.Point;t.x=AllData.instance.getRandomF(0,.7*this.width),t.y=AllData.instance.getRandomF(.35*this.height,.7*this.height);var e=new egret.Point(0,this.height);return AllData.instance.getDistance(t,e)<.7*this.height?this.getEndPoint():t},Object.defineProperty(e.prototype,"StarPointX",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StarPointY",{get:function(){return this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointX",{get:function(){return 100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointY",{get:function(){return this.height},enumerable:!0,configurable:!0}),e}(eui.Component);__reflect(BaseRegion.prototype,"BaseRegion",["eui.UIComponent","egret.DisplayObject"]);var ResourceProxyBase=function(t){function e(e){void 0===e&&(e="");var i=t.call(this,e)||this;return i._dataMap=new Array,i._proxyName="",i._proxyName=e,i}return __extends(e,t),e.prototype.getData=function(){var t=RES.getRes(this._proxyName);return t},e}(puremvc.Proxy);__reflect(ResourceProxyBase.prototype,"ResourceProxyBase",["puremvc.IProxy","puremvc.INotifier"]);var RegionRed=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/RegionRedSkin.exml",e}return __extends(e,t),e.prototype.onBegigGame=function(){this.win_img&&(this.win_img.alpha=0)},Object.defineProperty(e.prototype,"StarPointX",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StarPointY",{get:function(){return this.height+10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointX",{get:function(){return.45*this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointY",{get:function(){return this.height},enumerable:!0,configurable:!0}),e}(BaseRegion);__reflect(RegionRed.prototype,"RegionRed");var BaseMediator=function(t){function e(e,i){void 0===e&&(e=""),void 0===i&&(i=null);var n=t.call(this,e,i)||this;return n.isInitialized=!1,n.isPopUp=!1,n.ui=null,n.w=0,n.h=0,n.w=GameConfig.curWidth(),n.h=GameConfig.curHeight(),n}return __extends(e,t),e.prototype.showUI=function(t,e,i,n,o,a){void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=!1),this.ui=t,this.beforShow(),this.initUI(),this.initData(),PopUpManager.addPopUp(t,e,i,n,o,a)},e.prototype.beforShow=function(){},e.prototype.initUI=function(){},e.prototype.initData=function(){},e.prototype.closePanel=function(t){void 0===t&&(t=0),PopUpManager.removePopUp(this.ui,t),this.destroy()},e.prototype.destroy=function(){},e.prototype.getIsPopUp=function(){return this.isPopUp},e.prototype.getIsInit=function(){return this.isInitialized},e.prototype.getWidth=function(){return this.ui.width},e.prototype.getHeight=function(){return this.ui.height},e}(puremvc.Mediator);__reflect(BaseMediator.prototype,"BaseMediator",["puremvc.IMediator","puremvc.INotifier"]);var BasePanelMediator=function(t){function e(e,i){void 0===e&&(e=""),void 0===i&&(i=null);var n=t.call(this,e,i)||this;return n.isInitialized=!1,n.isPopUp=!1,n.ui=null,n.w=0,n.h=0,n.w=GameConfig.curWidth(),n.h=GameConfig.curHeight(),n}return __extends(e,t),e.prototype.showUI=function(t,e,i,n,o,a){void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=!1),this.ui=t,this.beforShow(),this.initUI(),this.initData(),PopUpManager.addPopUp(t,e,i,n,o,a)},e.prototype.showUIInCenter=function(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=!1),this.showUI(t,e,t.width,t.height,i,n)},e.prototype.beforShow=function(){},e.prototype.initUI=function(){},e.prototype.initData=function(){},e.prototype.closePanel=function(t){void 0===t&&(t=0),PopUpManager.removePopUp(this.ui,t),this.destroy()},e.prototype.destroy=function(){this.ui.destroy(),this.ui=null},e.prototype.getIsPopUp=function(){return this.isPopUp},e.prototype.getIsInit=function(){return this.isInitialized},e.prototype.getWidth=function(){return this.ui.width},e.prototype.getHeight=function(){return this.ui.height},e}(puremvc.Mediator);__reflect(BasePanelMediator.prototype,"BasePanelMediator",["puremvc.IMediator","puremvc.INotifier"]);var ZjwComponent=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(eui.UIEvent.COMPLETE,e.initView,e),e}return __extends(e,t),e.prototype.initView=function(){this._allBtn=ErgodicUtils.getAllButton(this),this.addEvent()},e.prototype.addEvent=function(){for(var t=this._allBtn.length,e=0;t>e;e++)this._allBtn[e].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClick,this)},e.prototype.removeEvent=function(){this.removeEventListener(eui.UIEvent.COMPLETE,this.initView,this);for(var t=this._allBtn.length,e=0;t>e;e++)this._allBtn[e].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnClick,this);this._allBtn=[]},e.prototype.destroy=function(){this.removeEvent()},e.prototype.onBtnClick=function(t){},e}(eui.Component);__reflect(ZjwComponent.prototype,"ZjwComponent",["eui.UIComponent","egret.DisplayObject"]);var RegionOther=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/RegionOtherSkin.exml",e}return __extends(e,t),e.prototype.getEndPoint=function(){var t=new egret.Point;t.x=AllData.instance.getRandomF(0,this.width),t.y=AllData.instance.getRandomF(0,.65*this.height);var e=new egret.Point(this.width/2,this.height);return AllData.instance.getDistance(t,e)>.8*this.height?this.getEndPoint():t},Object.defineProperty(e.prototype,"StarPointX",{get:function(){return this.width/2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StarPointY",{get:function(){return 1.5*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointX",{get:function(){return.9*this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointY",{get:function(){return 1.3*this.height},enumerable:!0,configurable:!0}),e}(RegionRed);__reflect(RegionOther.prototype,"RegionOther");var EButton=function(t){function e(e,i,n,o,a,r,s){void 0===n&&(n=null),void 0===o&&(o=""),void 0===a&&(a=30),void 0===r&&(r=1),void 0===s&&(s="assets");var c=t.call(this)||this;return c.assets=RES.getRes("assets"),c.isPlayCartoon=!1,c.cartoonType=1,c.param={context:null,data:null},c.param.context=e,c.init(i,n,o,a,r,s),c}return __extends(e,t),e.prototype.init=function(t,e,i,n,o,a){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n=30),void 0===o&&(o=1),void 0===a&&(a="assets"),this.cartoonType=o,this.backFun=e,this.btnImg=new egret.Bitmap,null==a?this.btnImg.texture=RES.getRes(t):("assets"!=a&&(this.assets=RES.getRes(a)),this.btnImg.texture=this.assets.getTexture(t)),this.addChild(this.btnImg),""!=i&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=n,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=i,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},e.prototype.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1},i=function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(e,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(e,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(e,this)};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(i,this),egret.setTimeout(function(){null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])},this,300)}},e.prototype.setBindData=function(t){this.param.data=t},e.prototype.getBindData=function(){return this.param.data},e.prototype.getBitmap=function(){return this.btnImg},e}(egret.DisplayObjectContainer);__reflect(EButton.prototype,"EButton");var ETextField=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setText=function(t){void 0===t&&(t="");var e=new egret.HtmlTextParser;this.textFlow=e.parser(t)},e}(egret.TextField);__reflect(ETextField.prototype,"ETextField");var GameConfig;!function(t){function e(){var t=window.navigator.userAgent.toLowerCase(),e=""+t.match(/MicroMessenger/i);return"null"==e?!1:"micromessenger"==e?!0:void 0}function i(){return document.body.clientHeight/document.body.clientWidth>1.32}function n(){var t=window.navigator.userAgent.toLowerCase();""+t.match(/MicroMessenger/i);return""+t.match(/windows nt/i)=="windows nt"?"windows":""+t.match(/iphone/i)=="iphone"?"ios":""+t.match(/android/i)=="android"?"android":""+t.match(/ipad/i)=="ipad"?"ipad":""+t.match(/linux/i)=="linux"?"linux":""+t.match(/mac/i)=="mac"?"mac":""+t.match(/ucbrower/i)=="ucbrower"?"ucbrower":void console.log("未知系统类型")}function o(){var t=window.navigator.userAgent.toLowerCase();return""+t.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+t.match(/qzone/i)=="qzone"?"qzone":""+t.match(/weibo/i)=="weibo"?"weibo":""+t.match(/qq/i)=="qq"?"qq":""+t.match(/renren/i)=="renren"?"renren":""+t.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+t.match(/douban/i)=="douban"?"douban":"other"}function a(){return egret.MainContext.instance.stage}function r(){return egret.MainContext.instance.stage.stageWidth}function s(){return egret.MainContext.instance.stage.stageHeight}t.isOnLine=navigator.onLine,t.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},t.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},t.isWeiXin=e,t.isBigScreen=i,t.systemType=n,t.platformType=o,t.curStage=a,t.curWidth=r,t.curHeight=s}(GameConfig||(GameConfig={}));var GlobalData;!function(t){t.myName="dily"}(GlobalData||(GlobalData={}));var EnumerationType;!function(t){var e;!function(t){t[t["null"]=0]="null",t[t.fangKuai=1]="fangKuai",t[t.meiHua=2]="meiHua",t[t.hongTao=3]="hongTao",t[t.heiTao=4]="heiTao",t[t.boss=5]="boss"}(e=t.Color||(t.Color={}));var i;!function(t){t[t.niuba=0]="niuba",t[t.niuer=1]="niuer",t[t.niujiu=2]="niujiu",t[t.niuniu=3]="niuniu",t[t.niusan=4]="niusan",t[t.niusi=5]="niusi",t[t.niuwu=6]="niuwu",t[t.niuyi=7]="niuyi",t[t.tonghuashun=8]="tonghuashun",t[t.wuhuaniu=9]="wuhuaniu",t[t.wuniu=10]="wuniu",t[t.wuxiaoniu=11]="wuxiaoniu",t[t.zhadanniu=12]="zhadanniu",t[t.niuqi=13]="niuqi",t[t.niuliu=14]="niuliu"}(i=t.CardType||(t.CardType={}));var n;!function(t){t[t.red=0]="red",t[t.black=1]="black",t[t.redS=2]="redS",t[t.blackS=3]="blackS"}(n=t.RegionWinner||(t.RegionWinner={}))}(EnumerationType||(EnumerationType={}));var GameNotify=function(){function t(){}return t.GAME_OVER="GameNotify_GAME_OVER",t.GAME_STAR="GameNotify_GAME_STAR",t.STOP_BETS="GameNotify_STOP_BETS",t.SEND_CARD="GameNotify_SEND_CARD",t}();__reflect(GameNotify.prototype,"GameNotify");var MainNotify=function(){function t(){}return t.OPEN_MAIN="MainNotify_OPEN_MAIN",t.CLOSE_MAIN="MainNotify_CLOSE_MAIN",t.OPEN_ROLE="MainNotify_OPEN_ROLE",t.CLOSE_ROLE="MainNotify_CLOSE_ROLE",t.OPEN_FUNCTION="MainNotify_OPEN_FUNCTION",t.CLOSE_FUNCTION="MainNotify_CLOSE_FUNCTION",t.OPEN_ACTIVITY="MainNotify_OPEN_ACTIVITY",t.CLOSE_ACTIVITY="MainNotify_CLOSE_ACTIVITY",t.BET="BET",t}();__reflect(MainNotify.prototype,"MainNotify");var PanelNotify=function(){function t(){}return t.OPEN_ROLE="PANELNOTIFY_OPEN_ROLE",t.CLOSE_ROLE="PANELNOTIFY_CLOSE_ROLE",t.OPEN_BACKPACK="PANELNOTIFY_OPEN_BACKPACK",t.CLOSE_BACKPACK="PANELNOTIFY_CLOSE_BACKPACK",t.OPEN_QIANGHUA="PANELNOTIFY_OPEN_QIANGHUA",t.CLOSE_QIANGHUA="PANELNOTIFY_QIANGHUA",t.OPEN_ZHAOXIAN="PANELNOTIFY_OPEN_ZHAOXIAN",t.CLOSE_ZHAOXIAN="PPANELNOTIFY_ZHAOXIAN",t.OPEN_EQUIPMENT="PANELNOTIFY_OPEN_EQUIPMENT",t.CLOSE_EQUIPMENT="PANELNOTIFY_CLOSE_EQUIPMENT",t.OPEN_CHUANGDANG="PANELNOTIFY_OPEN_CHUANGDANG",t.CLOSE_CHUANGDANG="PANELNOTIFY_CHUANGDANG",t.OPEN_SHOP="PANELNOTIFY_OPEN_SHOP",t.CLOSE_SHOP="PANELNOTIFY_CLOSE_SHOP",t.OPEN_MAP="PANELNOTIFY_OPEN_MAP",t.CLOSE_MAP="PANELNOTIFY_CLOSE_MAP",t.OPEN_STOP_BET="PANELNOTIFY_OPEN_STOP_BET",t.CLOSE_STOP_BET="PANELNOTIFY_CLOSE_STOP_BET",t.OPEN_BET_DETAIL="PANELNOTIFY_OPEN_BET_DETAIL",t.CLOSE_BET_DETAIL="PANELNOTIFY_CLOSE_BET_DETAIL",t.OPEN_GAME_METHOD="PANELNOTIFY_OPEN_GAME_METHOD",t.CLOSE_GAME_METHOD="PANELNOTIFY_CLOSE_GAME_METHOD",t.OPEN_BIG_WINNER="PANELNOTIFY_OPEN_BIG_WINNER",t.CLOSE_BIG_WINNER="PANELNOTIFY_CLOSE__BIG_WINNER",t}();__reflect(PanelNotify.prototype,"PanelNotify");var SceneNotify=function(){function t(){}return t.OPEN_HOME="SceneNotify_OPEN_HOME",t.CLOSE_HOME="SceneNotify_CLOSE_HOME",t}();__reflect(SceneNotify.prototype,"SceneNotify");var SysNotify=function(){function t(){}return t.CONNECT_SERVER_SUCCESS="CONNECT_SERVER_SUCCESS",t.SERVER_BACK_DATA="SERVER_BACK_DATA",t}();__reflect(SysNotify.prototype,"SysNotify");var UserInfoNotify=function(){function t(){}return t.UPDATE_DATA="UPDATE_DATA",t}();__reflect(UserInfoNotify.prototype,"UserInfoNotify");var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.getInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i.prototype.initializeController=function(){e.prototype.initializeController.call(this),this.registerCommand(i.STARTUP,t.StartupCommand)},i.prototype.startUp=function(t){this.sendNotification(i.STARTUP,t),this.removeCommand(i.STARTUP)},i.STARTUP="startup",i}(puremvc.Facade);t.AppFacade=e,__reflect(e.prototype,"game.AppFacade",["puremvc.IFacade","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.execute=function(e){(new t.SceneManager).register(),(new t.MainManager).register(),(new t.Processor_100_1).register()},i}(puremvc.SimpleCommand);t.ControllerPrepCommand=e,__reflect(e.prototype,"game.ControllerPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.execute=function(t){this.facade.registerProxy(new TemplateProxy),this.facade.registerProxy(new GameProxy)},e}(puremvc.SimpleCommand);t.ModelPrepCommand=e,__reflect(e.prototype,"game.ModelPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.initializeMacroCommand=function(){this.addSubCommand(t.ControllerPrepCommand),this.addSubCommand(t.ModelPrepCommand),this.addSubCommand(t.ViewPrepCommand)},i}(puremvc.MacroCommand);t.StartupCommand=e,__reflect(e.prototype,"game.StartupCommand")}(game||(game={}));var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.execute=function(e){GameLayerManager.gameLayer().panelLayer;this.facade.registerMediator(new t.RoleMediator),this.facade.registerMediator(new t.BackpackMediator),this.facade.registerMediator(new t.QianghuaMediator),this.facade.registerMediator(new t.ZhaoXianMediator),this.facade.registerMediator(new t.ChuangDangMediator),this.facade.registerMediator(new t.ShopMediator),this.facade.registerMediator(new t.MapMediator),this.facade.registerMediator(new StopBetMediator),this.facade.registerMediator(new betDetails.BetDetailsMediator),this.facade.registerMediator(new gameMethod.GameMethodMediator),this.facade.registerMediator(new bigWinner.BigWinnerMediator)},i}(puremvc.SimpleCommand);t.ViewPrepCommand=e,__reflect(e.prototype,"game.ViewPrepCommand",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.register=function(){this.facade.registerCommand("Processor_100_1",e)},e.prototype.execute=function(t){var e=t.getBody(),i=Global.getMessage("user_login"),n=i.decode(e.buffer);console.log("反序列化数据：",n),this.sendNotification(UserInfoNotify.UPDATE_DATA,n)},e.NAME="Processor_100_1",e}(puremvc.SimpleCommand);t.Processor_100_1=e,__reflect(e.prototype,"game.Processor_100_1",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var UserInfoRequest;!function(t){function e(t,e){var i=Global.getMessage("user_login"),n=new i({userId:t,userName:e}),o=n.toArrayBuffer();SocketManager.sendMessage(100,1,o)}t.sendUserInfo=e}(UserInfoRequest||(UserInfoRequest={}));var P;!function(t){function e(){return game.AppFacade.getInstance().retrieveProxy(TemplateProxy.NAME)}function i(){return game.AppFacade.getInstance().retrieveProxy(GameProxy.NAME)}t.getTemplateDataProxy=e,t.getGameDataProxy=i}(P||(P={}));var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?n(o):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,function(t){n(t)},this)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var AllData=function(t){function e(){var e=t.call(this)||this;return e._cardColor=[],e._cardNums=[],e.ballSource=["0.1_png","1_png","5_png","10_png","50_png","100_png"],e.ballValue=[.1,1,5,10,50,100],e._bleckMoneyNum=0,e._redMoneyNum=0,e._redMoneyNum=0,e._otherMoneyNum=0,e._winner=EnumerationType.RegionWinner.redS,e._redCardType=EnumerationType.CardType.zhadanniu,e._blackCardType=EnumerationType.CardType.niuqi,e._allWinners=[],e._betDetailsTypeDatas=[],e._betRecordsTypeDatas=[],e._gmaeMethItemTypeDatas=[],e._hX_ItemData=[],e._bigWinnerDatas=[],e._myHdag=0,e._myMoney=0,e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return null==e._info&&(e._info=new e),e._info},enumerable:!0,configurable:!0}),e.prototype.getMoneyIsEnough=function(t,i){void 0===i&&(i=!1);var n=e.instance.MyMoney-t;return n>=0?!0:(i&&EffectUtils.showTips("剩余游戏币不足",4),!1)},Object.defineProperty(e.prototype,"playerInfo",{get:function(){return this._playerInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BigWinnerDatas",{get:function(){return this._bigWinnerDatas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MyHDAG",{get:function(){return this._myHdag},set:function(t){this._myHdag=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MyMoney",{get:function(){return this._myMoney},set:function(t){this._myMoney=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cardColor",{get:function(){return this._cardColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetDetailsTypeDatas",{get:function(){return this._betDetailsTypeDatas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BetRecordsTypeDatas",{get:function(){return this._betRecordsTypeDatas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GmaeMethItemTypeDatas",{get:function(){return this._gmaeMethItemTypeDatas},enumerable:!0,configurable:!0}),e.prototype.getOneHXStr=function(){return"2,2,2,2,2,2,2,2,2,2,2"},e.prototype.getTwoHXStr=function(){return"2,2,2,2,2,2,2,2,2,2,4,2"},e.prototype.getWinHXstr=function(){return"2,2,2,2,2,2,2,2,2,2,<font color='#F9C834'>4</font>,2"},e.prototype.getMoveChat=function(){return"4"},e.prototype.getMoveNum=function(){return 11},e.prototype.getHXItemDataByNum=function(t){for(var e=[],i=(this._hX_ItemData.length,t);i>0;i--)this._hX_ItemData[i-1]&&0!=this._hX_ItemData[i-1].length&&e.push(this._hX_ItemData[i-1]);return e},Object.defineProperty(e.prototype,"HX_ItemData",{get:function(){return this._hX_ItemData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Winner",{get:function(){return this._winner},enumerable:!0,configurable:!0}),e.prototype.getPointImgByReion=function(t){var e="";switch(t){case EnumerationType.RegionWinner.black:e="heiSheng";break;case EnumerationType.RegionWinner.blackS:e="heiJia";break;case EnumerationType.RegionWinner.red:e="hongSheng";break;case EnumerationType.RegionWinner.redS:e="hongJia"}return e+="_png"},Object.defineProperty(e.prototype,"AllWinners",{get:function(){return this._allWinners},enumerable:!0,configurable:!0}),e.prototype.getWP=function(){for(var t=0,e=0,i=0,n=this.AllWinners.length,o=0;n>o;o++){var a=this.AllWinners[o];switch(a){case EnumerationType.RegionWinner.black:t++;break;case EnumerationType.RegionWinner.blackS:t++,i++;break;case EnumerationType.RegionWinner.red:e++;break;case EnumerationType.RegionWinner.redS:e++,i++}}return t=Math.floor(t/n*1e4)/100,e=100-t,i=Math.floor(i/n*1e4)/100,{black:t,red:e,other:i}},Object.defineProperty(e.prototype,"BleckMoneyNum",{get:function(){return this._bleckMoneyNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CardTypeB",{get:function(){return this._blackCardType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CardTypeR",{get:function(){return this._redCardType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RedMoneyNum",{get:function(){return this._redMoneyNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OtherMoneyNum",{get:function(){return this._otherMoneyNum},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cardNums",{get:function(){return this._cardNums},enumerable:!0,configurable:!0}),e.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},e.prototype.getRandomF=function(t,e){return Math.random()*(e-t)+t},e.prototype.getDistance=function(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.sqrt(i*i+n*n)},e.prototype.testSetData=function(){for(var t=0;15>t;t++){var e=this.getRandomInt(1,13);this._cardNums[t]=e;var i=this.getRandomInt(1,4);this._cardColor[t]=i;var n={playerName:t.toString(),money:this.getRandomF(0,1e3),region:this.getRandomInt(0,3)};this._betDetailsTypeDatas.push(n);var o={money:this.getRandomInt(100,1e3),isWin:1==this.getRandomInt(0,2),region:this.getRandomInt(0,3)};this._betRecordsTypeDatas.push(o);var a=[t.toString(),EnumerationType.CardType[this.getRandomInt(0,6)],100*this.getRandomInt(0,7)+" HDAG"];this._gmaeMethItemTypeDatas.push(a)}var r={playerName:"十七项",value:"651454.68",jiangBeiNum:1},s={playerName:"十七项",value:"65154.68",jiangBeiNum:2},c={playerName:"十七项",value:"65126454.68",jiangBeiNum:3};this._bigWinnerDatas=[r,s,c],this._winner=EnumerationType.RegionWinner.blackS,this._bleckMoneyNum=this.getRandomInt(1,1e3),this._redMoneyNum=this.getRandomInt(1,1e3),this._otherMoneyNum=this.getRandomInt(1,1e3),this._myMoney=250,this._hX_ItemData[2]=["21365","...ee7b24123<font color='#E7B846'>4</font>","14:15:16"],this._hX_ItemData[1]=["2123","...ee7b241234","14:15:16"],this._hX_ItemData[0]=["2g5","...ee7b241234","14:15:16"],this._playerInfo={name:"旺气象",money:669,id:"adsf"},console.log("动画数据设置完毕")},e}(egret.EventDispatcher);__reflect(AllData.prototype,"AllData");var GameProxy=function(t){function e(){var i=t.call(this,e.NAME)||this;return i.vo=new GameVO,i}return __extends(e,t),e.prototype.getGameName=function(){return this.vo||(this.vo=new GameVO),this.vo.gameName},e.prototype.setGameName=function(t){this.vo||(this.vo=new GameVO),this.vo.gameName=t},e.NAME="GameProxy",e}(ResourceProxyBase);__reflect(GameProxy.prototype,"GameProxy");var TemplateProxy=function(t){function e(){return t.call(this,e.NAME)||this}return __extends(e,t),e.prototype.getGameData=function(){return this.getData()},e.NAME="template_json",e}(ResourceProxyBase);__reflect(TemplateProxy.prototype,"TemplateProxy");var GameVO=function(){function t(){this.gameName="Eger pro"}return t}();__reflect(GameVO.prototype,"GameVO");var GameLayerManager=function(t){function e(){var e=t.call(this)||this;return e.sceneLayer=new eui.UILayer,e.mainLayer=new eui.UILayer,e.panelLayer=new eui.UILayer,e.effectLayer=new eui.UILayer,e.maskLayer=new eui.UILayer,e.loadLayer=new eui.UILayer,e.init(),e}return __extends(e,t),e.gameLayer=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.init=function(){this.touchThrough=!0,this.sceneLayer.touchThrough=!0,this.mainLayer.touchThrough=!0,this.panelLayer.touchThrough=!0,this.effectLayer.touchThrough=!0,this.maskLayer.touchThrough=!0,this.loadLayer.touchThrough=!0,this.addChild(this.sceneLayer),this.addChild(this.mainLayer),this.addChild(this.panelLayer),this.addChild(this.effectLayer),this.addChild(this.maskLayer),this.addChild(this.loadLayer)},e}(eui.UILayer);__reflect(GameLayerManager.prototype,"GameLayerManager");var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.register=function(){this.facade.registerCommand(MainNotify.OPEN_MAIN,i),this.facade.registerCommand(MainNotify.CLOSE_MAIN,i),this.facade.registerCommand(PanelNotify.CLOSE_STOP_BET,i),this.facade.registerCommand(MainNotify.BET,i)},i.prototype.execute=function(e){var i=e.getBody(),n=GameLayerManager.gameLayer().mainLayer,o=t.MainManager.mainUI;switch(e.getName()){case MainNotify.OPEN_MAIN:null==o&&(o=new t.MainUIYDD,n.addChild(o),t.MainManager.mainUI=o);break;case MainNotify.CLOSE_MAIN:null!=o&&(n.removeChild(o),o=null,t.MainManager.mainUI=null);break;case PanelNotify.CLOSE_STOP_BET:null!=o&&o.SelectCard();break;case MainNotify.BET:this.bet(i)}},i.prototype.bet=function(e){var i=AllData.instance.ballValue[e];return AllData.instance.getMoneyIsEnough(i)?(AllData.instance.MyHDAG+=i,AllData.instance.MyMoney-=i,t.MainManager.mainUI.refreshPlayerMoney(),!0):!1},i.NAME="MainManager",i}(puremvc.SimpleCommand);t.MainManager=e,__reflect(e.prototype,"game.MainManager",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.register=function(){this.facade.registerCommand(SceneNotify.OPEN_HOME,i),this.facade.registerCommand(SceneNotify.CLOSE_HOME,i)},i.prototype.execute=function(e){var i=(e.getBody(),GameLayerManager.gameLayer().sceneLayer),n=t.SceneManager.homeCity;switch(e.getName()){case SceneNotify.OPEN_HOME:null==n&&(n=new t.HomeCity,i.addChild(n),t.SceneManager.homeCity=n);break;case SceneNotify.CLOSE_HOME:null!=n&&(i.removeChild(n),n=null,t.SceneManager.homeCity=null)}},i.NAME="SceneManager",i}(puremvc.SimpleCommand);t.SceneManager=e,__reflect(e.prototype,"game.SceneManager",["puremvc.ICommand","puremvc.INotifier"])}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Component);t.ActivityBar=e,__reflect(e.prototype,"game.ActivityBar")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Component);t.FunctionBar=e,__reflect(e.prototype,"game.FunctionBar")}(game||(game={}));var game;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isHide=!1,t.skinName="MainUISkin",t}return __extends(i,e),i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=new egret.Shape;t.graphics.beginFill(16711680),t.x=this.functionBar.x,t.y=this.functionBar.y,t.graphics.drawRect(0,0,this.functionBar.width,this.functionBar.height),t.graphics.endFill(),this.addChild(t);var i=new egret.Shape;i.graphics.beginFill(16711680),i.x=this.activityBar.x,i.y=this.activityBar.y,i.graphics.drawRect(0,0,this.activityBar.width,this.activityBar.height),i.graphics.endFill(),this.addChild(i),this.mainBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMainBtnClick,this),this.functionBar.mask=t,this.activityBar.mask=i,this.functionBar.roleBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRoleBtnClick,this),this.functionBar.backpackBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackpackBtnClick,this),this.functionBar.qianghuaBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQianghuaBtnClick,this),this.functionBar.zhaoXianBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onZhaoXianBtnClick,this),this.functionBar.chuangDangBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChuangDangBtnClick,this),this.functionBar.shopBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onShopBtnClick,this),this.functionBar.mapBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onMapBtnClick,this)
},i.prototype.onMainBtnClick=function(t){this.isHide?(this.isHide=!this.isHide,egret.Tween.get(this.functionBar).to({x:291},300,egret.Ease.backOut),egret.Tween.get(this.activityBar).to({y:319},300,egret.Ease.backOut)):(this.isHide=!this.isHide,egret.Tween.get(this.functionBar).to({x:GameConfig.curWidth()},300,egret.Ease.backOut),egret.Tween.get(this.activityBar).to({y:GameConfig.curHeight()},300,egret.Ease.backOut))},i.prototype.onRoleBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_ROLE)},i.prototype.onBackpackBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_BACKPACK)},i.prototype.onQianghuaBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_QIANGHUA)},i.prototype.onZhaoXianBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_ZHAOXIAN)},i.prototype.onChuangDangBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_CHUANGDANG)},i.prototype.onShopBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_SHOP)},i.prototype.onMapBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_MAP)},i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i}(eui.Component);t.MainUI=e,__reflect(e.prototype,"game.MainUI")}(game||(game={}));var game;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(eui.Component);t.RoleInfo=e,__reflect(e.prototype,"game.RoleInfo")}(game||(game={}));var game;!function(t){var e=function(e){function i(){var t=e.call(this)||this;t.skinName="resource/ui/mainYDD/MainUIYDDSkin.exml",t._cards=[],t._cardStarXs=[];for(var i=0;10>i;i++){var n="card"+(i+1);t._cards[i]=t[n],t._cardStarXs[i]=t[n].x}return t._vsManBlackX=t.vsManBlack_img.x,t._vsManRedX=t.vsManRed_img.x,t._selectIndex=-1,t}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this._card1StarX=this.card1.x,this._card1StarY=this.card1.y,this.regitEvent(),this.refreshMoneyLab()},i.prototype.regitEvent=function(){this.ball0_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball1_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball2_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball3_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball4_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball5_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.betDetails_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetDetailsBtnClick,this),this.betRecord_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetRecordsBtnClick,this),this.gameMethod_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGameMethodBtnClick,this),this.prizeInfo_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPrizeInfoBtnClick,this),this.regionRed_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.regionBlack_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.regionOther_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.bets_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetsBtn,this),this.withdraw_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackBetsBtnClick,this),AllData.instance.addEventListener(GameNotify.GAME_STAR,this.onBegigGame,this),AllData.instance.addEventListener(GameNotify.STOP_BETS,this.onStopBet,this),AllData.instance.addEventListener(GameNotify.SEND_CARD,this.SendCard,this),this.begin_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBeginBtnClick,this),this.setCard_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSetCardBtnClick,this),this.cardAmi_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCardAmiBtnClick,this),this.ballAmi_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallAmiBtnClick,this),this.bigWinner_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBigWinnerBtnClick,this)},i.prototype.removeEvent=function(){this.ball0_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball1_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball2_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball3_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball4_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.ball5_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallBtnClick,this),this.betDetails_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetDetailsBtnClick,this),this.betRecord_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetRecordsBtnClick,this),this.gameMethod_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onGameMethodBtnClick,this),this.prizeInfo_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onPrizeInfoBtnClick,this),this.regionRed_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.regionBlack_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.regionOther_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRegionClick,this),this.bets_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBetsBtn,this),this.withdraw_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackBetsBtnClick,this),AllData.instance.removeEventListener(GameNotify.GAME_STAR,this.onBegigGame,this),AllData.instance.removeEventListener(GameNotify.STOP_BETS,this.onStopBet,this),AllData.instance.removeEventListener(GameNotify.SEND_CARD,this.SendCard,this),this.begin_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBeginBtnClick,this),this.setCard_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSetCardBtnClick,this),this.cardAmi_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCardAmiBtnClick,this),this.ballAmi_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBallAmiBtnClick,this),this.bigWinner_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBigWinnerBtnClick,this)},i.prototype.onBegigGame=function(){this.mengBan_btn.visible=!1,this.blackResult_img.alpha=0,this.redResult_img.alpha=0,this._selectIndex=-1,this._selectedBall&&this._selectedBall.hideSelectedAmi(),this.regionRed.removeAllBall(),this.regionBlack.removeAllBall(),this.regionOther.removeAllBall(),this.showBeginAmi()},i.prototype.onStopBet=function(){this.mengBan_btn.visible=!0;t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_STOP_BET),this._selectIndex=-1;var e=setTimeout(function(){t.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_STOP_BET),clearTimeout(e)},1500)},i.prototype.refreshMoneyLab=function(){this.moneyNumB_lab.text=AllData.instance.BleckMoneyNum.toString(),this.moneyNumR_lab.text=AllData.instance.RedMoneyNum.toString(),this.moneyNumO_lab.text=AllData.instance.OtherMoneyNum.toString()},i.prototype.refreshPlayerMoney=function(){this.myHdag_lab.text=""+AllData.instance.MyHDAG+" HDAG",this.myMoney_lab.text=""+AllData.instance.MyMoney},i.prototype.showBeginAmi=function(){var t=this.vsManBlack_img,e=this.vsManRed_img;t.visible=!0,e.visible=!0,this.moveTw(t,-t.width,this._vsManBlackX,this.playAllLine),this.moveTw(e,this.width,this._vsManRedX,this.playAllLine)},i.prototype.playAllLine=function(){this.regionBlack.playLineAmi(),this.regionRed.playLineAmi(),this.regionOther.playLineAmi(),this.clock.starTiming(5)},i.prototype.moveTw=function(t,e,i,n){var o=this;this.touchEnabled=!1,t.x=e;var a=egret.Tween.get(t);a.to({x:i},200).wait(500).to({x:e},150).call(function(){o.touchEnabled=!0,n.apply(o)},o)},i.prototype.SelectCard=function(){this.selectCardCom.showSelectAmi()},i.prototype.SendCard=function(){this.setCardData(),this.playGetCardAmi()},i.prototype.setCardData=function(){for(var t=0;10>t;t++)this._cards[t].setCard(t);this.blackResult_img.source=EnumerationType.CardType[AllData.instance.CardTypeB]+"_png",this.redResult_img.source=EnumerationType.CardType[AllData.instance.CardTypeR]+"_png"},i.prototype.playGetCardAmi=function(){if(this.showHXUI(),null==this._cac){this._cac=new ContinueAmiChain(50);for(var t=this._cards.length,e=[],i=0;5>i;i++){var n=37*i;e[i+5]=176+n,e[i]=485+n}for(var o=59,a=1.65,i=0;t>i;i++)this._cac.registerAction(this.setCardStarTF,this,0,0,this._cards[i]);for(var i=0;t>i;i++){var r={com:this._cards[i],endX:e[i],endY:o,sX:a,sY:a,time:100},s=0==i?0:-6,c=8;this._cac.registerAction(this.playMoveAmi,this,s,c,r)}this._cac.registerAction(this.playOpenCardAmi,this,10,18),this.playHXItemAmi(),this._cac.registerAction(this.playMoveLabAmi,this,0,20),this._cac.registerAction(this.showWinK,this,0,0),this._cac.registerAction(this.hideHXUI,this,20,0);for(var i=0;t>i;i++){var r={com:this._cards[i],endX:this._cardStarXs[i],endY:this._card1StarY,sX:1,sY:1,time:500},c=10,s=0==i?0:-c;this._cac.registerAction(this.playMoveAmi,this,s,c,r)}this._cac.registerAction(this._cards[4].showOpenCardAmi,this._cards[4],0,18,!0),this._cac.registerAction(this.playCardResultAmiL,this,0,4),this._cac.registerAction(this._cards[9].showOpenCardAmi,this._cards[9],0,18,!0),this._cac.registerAction(this.playCardResultAmiR,this,0,4),this._cac.registerAction(this.showWinner,this,0,27),this._cac.registerAction(this.scoreBoard.addWinner,this.scoreBoard,0,0)}this._cac.play()},i.prototype.playCardResultAmiL=function(){egret.Tween.get(this.blackResult_img).to({alpha:1},200)},i.prototype.playCardResultAmiR=function(){egret.Tween.get(this.redResult_img).to({alpha:1},100)},i.prototype.playHXItemAmi=function(){if(null!=this._cac)for(var t=AllData.instance.HX_ItemData.length,e=1;t>=e;e++)this._cac.registerAction(this.setHXListData,this,10,0,e)},i.prototype.setHXListData=function(t){this.hxList.dataProvider=new eui.ArrayCollection(AllData.instance.getHXItemDataByNum(t))},i.prototype.showHXUI=function(){this.hx_group.visible=!0,this.hxList.itemRenderer=HxItem,this.oneHXNum_lab.textFlow=(new egret.HtmlTextParser).parser(AllData.instance.getOneHXStr()),this.twoHXNum_lab.textFlow=(new egret.HtmlTextParser).parser(AllData.instance.getTwoHXStr()),this.move_lab.visible=!1,this.kuangR_img.visible=!1,this.kuangL_img.visible=!1,this.setHXListData(0)},i.prototype.playMoveLabAmi=function(){this.move_lab.x=436,this.move_lab.y=272,this.move_lab.text=AllData.instance.getMoveChat();var t,e=0,i=this.oneHXNum_lab.y,n=AllData.instance.Winner;n==EnumerationType.RegionWinner.black||n==EnumerationType.RegionWinner.blackS?(e=this.twoHXNum_lab.x+this.twoHXNum_lab.size*AllData.instance.getMoveNum(),t=this.twoHXNum_lab):(e=this.oneHXNum_lab.x+this.oneHXNum_lab.size*AllData.instance.getMoveNum(),t=this.oneHXNum_lab),this.move_lab.visible=!0;var o=this;egret.Tween.get(this.move_lab).to({x:e,y:i},1e3).call(function(){o.move_lab.visible=!1;var e=AllData.instance.getWinHXstr();t.textFlow=(new egret.HtmlTextParser).parser(e)})},i.prototype.showWinK=function(){var t=AllData.instance.Winner;t==EnumerationType.RegionWinner.black||t==EnumerationType.RegionWinner.blackS?this.kuangR_img.visible=!0:this.kuangL_img.visible=!0},i.prototype.hideHXUI=function(){this.hx_group.visible=!1},i.prototype.setCardStarTF=function(t){t.scaleX=1.65,t.scaleY=1.65,t.x=404,t.y=108,t.visible=!0},i.prototype.playOpenCardAmi=function(){var t=this._cards;this.playOpenTwoCardAmi(t[0],t[1],t[2],t[3],t[4]),this.playOpenTwoCardAmi(t[5],t[6],t[7],t[8],t[9])},i.prototype.playOpenTwoCardAmi=function(t,e,i,n,o){var a=t.x,r=e.x,s=(i.x,n.x),c=o.x;t.scaleX;egret.Tween.get(t).to({x:i.x},450).call(function(){t.openSelf(),i.openSelf(),e.openSelf(),n.openSelf()}).to({x:a},450),egret.Tween.get(e).to({x:i.x},450).to({x:r},450),egret.Tween.get(n).to({x:i.x},450).to({x:s},450),egret.Tween.get(o).to({x:i.x},450).to({x:c},450)},i.prototype.playMoveAmi=function(t){egret.Tween.removeTweens(t.com),egret.Tween.get(t.com).to({x:t.endX,y:t.endY,scaleX:t.sX,scaleY:t.sY},t.time)},i.prototype.showWinner=function(){var t=AllData.instance.Winner;switch(t){case EnumerationType.RegionWinner.black:this.regionBlack.showWinAmi();break;case EnumerationType.RegionWinner.blackS:this.regionBlack.showWinAmi(),this.regionOther.showWinAmi();break;case EnumerationType.RegionWinner.red:this.regionRed.showWinAmi();break;case EnumerationType.RegionWinner.redS:this.regionRed.showWinAmi(),this.regionOther.showWinAmi()}},i.prototype.playLeftGetCardAmi=function(t,e){void 0===e&&(e=300);var i=this._cards[t],n=this._cardStarXs[t],o=this.width/2-i.width/2,a=this._card1StarX,r=(n-a)/e*1e3;i.x=o,i.visible=!0,egret.Tween.removeTweens(i),this._GetCardAmiL=egret.Tween.get(i),this._GetCardAmiL.to({x:a},300).to({x:n},r)},i.prototype.playRightGetCardAmi=function(t,e){void 0===e&&(e=300);var i=this._cards[t],n=this._cardStarXs[t],o=this.width/2+i.width/2;i.x=o,i.visible=!0;var a=(n-o)/e*1e3;this._getCardAmiR=egret.Tween.get(i),this._getCardAmiR.to({x:n},a)},i.prototype.onBetDetailsBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_BET_DETAIL,!0)},i.prototype.onBetRecordsBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_BET_DETAIL,!1)},i.prototype.onGameMethodBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_GAME_METHOD,!0)},i.prototype.onPrizeInfoBtnClick=function(e){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_GAME_METHOD,!1)},i.prototype.onRegionClick=function(e){if(this._selectIndex>=0){var i=AllData.instance.ballValue[this._selectIndex];if(AllData.instance.getMoneyIsEnough(i,!0)){t.AppFacade.getInstance().sendNotification(MainNotify.BET,this._selectIndex);var n=[this._selectIndex],o=[AllData.instance.playerInfo.id],a=e.target;switch(a){case this.regionRed_btn:this.regionRed.addBall(n,o,!0);break;case this.regionBlack_btn:this.regionBlack.addBall(n,o,!0);break;case this.regionOther_btn:this.regionOther.addBall(n,o,!0)}}}},i.prototype.onBetsBtn=function(t){TipsUtils.showTipsFromCenter("投注成功",!1)},i.prototype.onBackBetsBtnClick=function(t){TipsUtils.showTipsFromCenter("撤回失败(＞﹏＜)",!1)},i.prototype.onBallBtnClick=function(t){this._selectedBall&&this._selectedBall.hideSelectedAmi();var e=t.target;switch(this._selectedBall=e,e.showSelectedAmi(),e){case this.ball0_btn:this._selectIndex=0,console.log("倍数为=========0");break;case this.ball1_btn:this._selectIndex=1,console.log("倍数为=========1");break;case this.ball2_btn:this._selectIndex=2,console.log("倍数为=========2");break;case this.ball3_btn:this._selectIndex=3,console.log("倍数为=========3");break;case this.ball4_btn:this._selectIndex=4,console.log("倍数为=========4");break;case this.ball5_btn:this._selectIndex=5,console.log("倍数为=========5")}},i.prototype.onBeginBtnClick=function(){AllData.instance.dispatchEventWith(GameNotify.GAME_STAR),this.refreshMoneyLab()},i.prototype.onSetCardBtnClick=function(){AllData.instance.testSetData(),this.setCardData()},i.prototype.onCardAmiBtnClick=function(){this.playGetCardAmi()},i.prototype.onBallAmiBtnClick=function(){var t=AllData.instance.getRandomInt(1,10),e=[],i=[];this.regionRed.removeAllBall(),this.regionBlack.removeAllBall(),this.regionOther.removeAllBall();for(var n=0;t>n;n++){var o=AllData.instance.getRandomInt(0,5);e.push(o),i.push("6566655asd")}this.regionRed.addBall(e,i),this.regionBlack.addBall(e,i),this.regionOther.addBall(e,i),this.refreshPlayerMoney()},i.prototype.onBigWinnerBtnClick=function(){t.AppFacade.getInstance().sendNotification(PanelNotify.OPEN_BIG_WINNER)},i}(eui.Component);t.MainUIYDD=e,__reflect(e.prototype,"game.MainUIYDD")}(game||(game={}));var BallBtn=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/BallBtnSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.registEven()},e.prototype.registEven=function(){this.line.addEventListener("complete",this.onTweenGroupComplete,this),AllData.instance.addEventListener(GameNotify.STOP_BETS,this.onStopBets,this),AllData.instance.addEventListener(GameNotify.GAME_STAR,this.onGameStar,this)},e.prototype.removeEven=function(){this.line.removeEventListener("complete",this.onTweenGroupComplete,this),AllData.instance.removeEventListener(GameNotify.STOP_BETS,this.onStopBets,this),AllData.instance.removeEventListener(GameNotify.GAME_STAR,this.onGameStar,this)},e.prototype.showSelectedAmi=function(){this.line_img.visible=!0,this.line.play(0)},e.prototype.hideSelectedAmi=function(){this.line_img.visible=!1,this.line.stop()},e.prototype.onTweenGroupComplete=function(){this.line.play(0)},e.prototype.onGameStar=function(){this.enabled=!0},e.prototype.onStopBets=function(){this.enabled=!1,this.hideSelectedAmi()},e}(eui.Button);__reflect(BallBtn.prototype,"BallBtn",["eui.UIComponent","egret.DisplayObject"]);var BallCom=function(t){function e(e,i){var n=t.call(this)||this;return n.skinName="resource/ui/mainYDD/component/BallComSkin.exml",n._sourceIndex=e,n._playerId=i,n}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},Object.defineProperty(e.prototype,"PlayerId",{get:function(){return this._playerId},enumerable:!0,configurable:!0}),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.removeEvent=function(){this.removeEventListener(eui.UIEvent.COMPLETE,this.playJoinAmi,this)},e.prototype.showJoinAmi=function(t,e){this._endX=t,this._endY=e,this.icon_img?this.playJoinAmi():this.addEventListener(eui.UIEvent.COMPLETE,this.playJoinAmi,this)},e.prototype.playJoinAmi=function(){this.visible=!0,this.icon_img.source=AllData.instance.ballSource[this._sourceIndex];var t=egret.Tween.get(this);t.to({x:this._endX},300,egret.Ease.quintOut);var e=egret.Tween.get(this);e.to({y:this._endY},300)},e.prototype.hideBall=function(){this.visible=!1,egret.Tween.removeTweens(this)},e.NAME="BallCom",e}(eui.Component);__reflect(BallCom.prototype,"BallCom",["eui.UIComponent","egret.DisplayObject"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),i=e,e.prototype.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;i.Stage=this.stage,this.stage.registerImplementation("eui.IAssetAdapter",e);new eui.Theme("resource/default.thm.json",this.stage);RES.processor.map("proto",ProtoAnalyzer),RES.processor.map("txt",EnJsonAnalyzer),this.addChild(GameLayerManager.gameLayer()),this.loadRes();new Map,Symbol("key")},e.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return t=this,[4,RES.loadConfig()];case 1:return i.sent(),[4,RES.loadGroup("loading")];case 2:return i.sent(),t.loadingView=new LoadingUI,GameLayerManager.gameLayer().addChild(t.loadingView),e={onProgress:function(e,i){t.loadingView.setProgress(e,i)}},[4,RES.loadGroup("preload",0,e)];case 3:return i.sent(),GameLayerManager.gameLayer().removeChild(this.loadingView),this.createGameScene(),[2]}})})},e.prototype.createGameScene=function(){this.testEnJson(),game.AppFacade.getInstance().startUp(GameLayerManager.gameLayer()),game.AppFacade.getInstance().sendNotification(SceneNotify.OPEN_HOME),game.AppFacade.getInstance().sendNotification(MainNotify.OPEN_MAIN)},e.prototype.testEnJson=function(){RES.getRes("enJson_txt")},e=i=__decorate([RES.mapConfig("config.json",function(){return"resource"},function(t){var e=t.substr(t.lastIndexOf(".")+1),i={jpg:"image",png:"image",webp:"image",json:"json",fnt:"font",pvr:"pvr",mp3:"sound",proto:"proto",txt:"txt"},n=i[e];return"json"==n&&(t.indexOf("sheet")>=0?n="sheet":t.indexOf("movieclip")>=0&&(n="movieclip")),n})],e);var i}(eui.UILayer);__reflect(Main.prototype,"Main");var Card=function(t){function e(){var e=t.call(this)||this;return e._color=EnumerationType.Color["null"],e._cardNum=0,e.skinName="resource/ui/mainYDD/component/CardSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEvent()},e.prototype.addEvent=function(){AllData.instance.addEventListener(GameNotify.GAME_STAR,this.onBegigGame,this)},e.prototype.removeEvent=function(){AllData.instance.removeEventListener(GameNotify.GAME_STAR,this.onBegigGame,this)},e.prototype.setCard=function(t){this._color=AllData.instance.cardColor[t],this._cardNum=AllData.instance.cardNums[t],this.card_img.source="card0_0_png",this._cardImgS="card"+this._color+"_"+this._cardNum+"_png"},e.prototype.onBegigGame=function(){this.visible=!1},e.prototype.openSelf=function(){this.card_img.source=this._cardImgS},e.prototype.showOpenCardAmi=function(t){var e=this._cardImgS,i=0,n=this;if(t){var o=egret.Tween.get(this.card_img);o.to({scaleX:1.2,scaleY:1.2},150).wait(100).to({scaleX:0},100).call(function(){n.card_img.source=e}).to({scaleX:1.2},100).wait(300).to({scaleX:1,scaleY:1},150),i=9}else{var o=egret.Tween.get(this.card_img);o.to({scaleX:0},150).call(function(){n.card_img.source=e}).to({scaleX:1},150),i=3}return i},e}(eui.Component);__reflect(Card.prototype,"Card");var Clock=function(t){function e(){var e=t.call(this)||this;return e._surplusTime=25,e.skinName="resource/ui/mainYDD/component/ClockSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dispose=function(){this.removeTimer()},e.prototype.starTiming=function(t){void 0===t&&(t=25),this.visible=!0,this._surplusTime=t,this.surplusTime_lab.text=this._surplusTime.toString(),this.startTimer(1e3)},e.prototype.startTimer=function(t){null==this._timer&&(this._timer=new egret.Timer(t),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)),this._timer.start(),this.onTimer(null)},e.prototype.removeTimer=function(){this._timer&&(this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this._timer.stop(),this._timer=null)},e.prototype.onTimer=function(t){this._surplusTime--,this._surplusTime<0?(this.visible=!1,AllData.instance.dispatchEventWith(GameNotify.STOP_BETS),this.removeTimer()):this.surplusTime_lab.text=this._surplusTime.toString()},e}(eui.Component);__reflect(Clock.prototype,"Clock",["eui.UIComponent","egret.DisplayObject"]);var HxItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/HxItemSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.qj_lab.text=this.data[0],this.time_lab0.text=this.data[2];var t=this.hx_lab;t.textFlow=(new egret.HtmlTextParser).parser(this.data[1])},e}(eui.ItemRenderer);__reflect(HxItem.prototype,"HxItem",["eui.UIComponent","egret.DisplayObject"]);var RegionBlack=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/RegionBlackSkin.exml",e}return __extends(e,t),e.prototype.onBegigGame=function(){this.win_img&&(this.win_img.alpha=0)},e.prototype.getEndPoint=function(){var t=new egret.Point;t.x=AllData.instance.getRandomF(.2*this.width,.9*this.width),t.y=AllData.instance.getRandomF(.3*this.height,.53*this.height);var e=new egret.Point(this.width,this.height);return AllData.instance.getDistance(t,e)<.8*this.height?this.getEndPoint():t},Object.defineProperty(e.prototype,"StarPointX",{get:function(){return this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointX",{get:function(){return 1.1*this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SelfStarPointY",{get:function(){return.8*this.height},enumerable:!0,configurable:!0}),e}(BaseRegion);__reflect(RegionBlack.prototype,"RegionBlack");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.w=0,e.h=0,e.createGameScene(),e}return __extends(e,t),e.prototype.createGameScene=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("PreLoadingBg_png"),this.addChild(this.bg),this.pgBg=new egret.Bitmap,this.pgBg.texture=RES.getRes("PreLoadingBarBg_png"),this.pgBg.x=this.w/2-this.pgBg.width/2,this.pgBg.y=this.h-this.pgBg.height-125,this.addChild(this.pgBg),this.pgBar=new egret.Bitmap,this.pgBar.texture=RES.getRes("PreLoadingBar_png"),this.pgBar.x=this.pgBg.x+3.5,this.pgBar.y=this.pgBg.y+3.5,this.addChild(this.pgBar),this.textField=new egret.TextField,this.textField.size=24,this.textField.textColor=16777215,this.textField.bold=!0,this.textField.stroke=1,this.textField.strokeColor=0,this.addChild(this.textField),this.textField.width=100,this.textField.x=this.w/2-this.textField.width/2,this.textField.y=this.pgBg.y+20,this.textField.textAlign="center",this.textField.text="0%",this.pgBar.width=0},e.prototype.setProgress=function(t,e){var i=Math.round(t/e*100);this.textField.text=i+"%",this.pgBar.width=(this.pgBg.width-5)*(t/e)},e}(eui.UILayer);__reflect(LoadingUI.prototype,"LoadingUI");var Scoreboard=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/ScoreboardSkin.exml",e._pointImages=[],e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.addWinner=function(){var t=AllData.instance.Winner,e=AllData.instance.getPointImgByReion(t),i=ObjectPool.instance.pop("eui.Image",e);this.board_group.addChild(i),this._pointImages.push(i);var n=AllData.instance.getWP();this.wpBlack_lab.text=n.black+"%",this.wpRed_lab.text=n.red+"%",this.wpOther_lab.text=n.other+"%"},e}(eui.Component);__reflect(Scoreboard.prototype,"Scoreboard",["eui.UIComponent","egret.DisplayObject"]);var SelectCarding=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/mainYDD/component/SelectCardingSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.showSelectAmi=function(){this.visible=!0,this.startTimer(100)},e.prototype.startTimer=function(t){null==this._timer&&(this._timer=new egret.Timer(t),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)),this._timeNum=0,this._timer.start(),this.onTimer(null)},e.prototype.removeTimer=function(){this._timer&&(this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this._timer.stop(),this._timer=null)},e.prototype.onTimer=function(t){if(this._timeNum<this.zi_Group.numChildren){var e=this.zi_Group.getChildAt(this._timeNum);EffectUtils.jumpEffect(e)}else AllData.instance.cardNums.length>0?(AllData.instance.dispatchEventWith(GameNotify.SEND_CARD),this.removeTimer(),this.visible=!1):this._timeNum=-1;this._timeNum++},e}(eui.Component);__reflect(SelectCarding.prototype,"SelectCarding",["eui.UIComponent","egret.DisplayObject"]);var TipText=function(t){function e(e){var i=t.call(this)||this;return i._str=e,i.skinName="resource/ui/mainYDD/component/TipTextSkin.exml",i}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.tip_lab.text=this._str,this.bg_png.width=this.tip_lab.width+60},e}(eui.Component);__reflect(TipText.prototype,"TipText",["eui.UIComponent","egret.DisplayObject"]);var WaitPanel=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this)||this;return i.bg=new egret.Sprite,i.w=0,i.h=0,i.createView(),i}return __extends(e,t),e.prototype.createView=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg.graphics.beginFill(0,.2),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.addChild(this.bg),this.touchEnabled=!0,this.waitImg=new egret.Bitmap,this.waitImg.texture=RES.getRes("loadingCircle_png"),this.addChild(this.waitImg),this.waitImg.x=this.w/2,this.waitImg.y=this.h/2,this.waitImg.anchorOffsetX=this.waitImg.width/2,this.waitImg.anchorOffsetY=this.waitImg.height/2,EffectUtils.rotationEffect(this.waitImg,1e3)},e}(egret.Sprite);__reflect(WaitPanel.prototype,"WaitPanel");var PopUpManager;!function(t){function e(t,e,i,n,o,a){if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=!1),!GameLayerManager.gameLayer().panelLayer.contains(t)){t.scaleX=1,t.scaleY=1,t.x=0,t.y=0,t.alpha=1,e&&(this.darkSprite=new egret.Sprite,this.darkSprite.graphics.clear(),this.darkSprite.graphics.beginFill(0,.5),this.darkSprite.graphics.drawRect(0,0,GameConfig.curWidth(),GameConfig.curHeight()),this.darkSprite.graphics.endFill(),this.darkSprite.width=GameConfig.curWidth(),this.darkSprite.height=GameConfig.curHeight(),GameLayerManager.gameLayer().panelLayer.contains(this.darkSprite)||GameLayerManager.gameLayer().panelLayer.addChild(this.darkSprite),this.darkSprite.touchEnabled=!0,egret.Tween.get(this.darkSprite).to({alpha:1},150),this.darkSprite.visible=!0),GameLayerManager.gameLayer().panelLayer.addChild(t),GameConfig.curPanel=t,0!=i?(t.x=GameConfig.curWidth()/2-i/2,t.y=GameConfig.curHeight()/2-n/2):(i=t.width,n=t.height);var r=GameConfig.curWidth()/2-i/2,s=GameConfig.curHeight()/2-n/2;switch(o){case 0:break;case 1:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},300,egret.Ease.backOut);break;case 2:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},600,egret.Ease.elasticOut);break;case 3:a?(t.x=-i,egret.Tween.get(t).to({x:r},500,egret.Ease.cubicOut)):(t.x=-i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 4:a?(t.x=i,egret.Tween.get(t).to({x:r},500,egret.Ease.cubicOut)):(t.x=i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 5:a?(t.y=-n,egret.Tween.get(t).to({y:s},500,egret.Ease.cubicOut)):(t.y=-n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut));break;case 6:a?(t.y=GameConfig.curHeight(),egret.Tween.get(t).to({y:s},500,egret.Ease.cubicOut)):(t.y=n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut))}}}function i(t,e){void 0===e&&(e=0);var i=function(){GameLayerManager.gameLayer().panelLayer.contains(this.darkSprite)&&GameLayerManager.gameLayer().panelLayer.removeChild(this.darkSprite)};switch(this.darkSprite&&egret.Tween.get(this.darkSprite).to({alpha:0},100).call(i,this),e){case 0:break;case 1:egret.Tween.get(t).to({alpha:0,scaleX:0,scaleY:0,x:t.x+t.width/2,y:t.y+t.height/2},300);break;case 2:break;case 3:egret.Tween.get(t).to({x:t.width},500,egret.Ease.cubicOut);break;case 4:egret.Tween.get(t).to({x:-t.width},500,egret.Ease.cubicOut);break;case 5:egret.Tween.get(t).to({y:t.height},500,egret.Ease.cubicOut);break;case 6:egret.Tween.get(t).to({y:-t.height},500,egret.Ease.cubicOut)}var n=500;0==e&&(n=0),egret.setTimeout(function(){GameLayerManager.gameLayer().panelLayer.contains(t)&&GameLayerManager.gameLayer().panelLayer.removeChild(t)},this,n)}t.addPopUp=e,t.removePopUp=i}(PopUpManager||(PopUpManager={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.backpackPanel=new t.BackpackPanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_BACKPACK,PanelNotify.CLOSE_BACKPACK]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_BACKPACK:this.showUI(this.backpackPanel,!1,0,0,1);break;case PanelNotify.CLOSE_BACKPACK:this.closePanel(1)
}},i.prototype.initUI=function(){this.backpackPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.backpackPanel.readProxy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.readProxyButtonClick,this),this.backpackPanel.saveProxy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.saveProxyButtonClick,this)},i.prototype.initData=function(){},i.prototype.saveProxyButtonClick=function(t){P.getGameDataProxy().setGameName(this.backpackPanel.input1.text),this.backpackPanel.showText.text+="保存成功...\n"+P.getGameDataProxy().getGameName()+"\n"},i.prototype.readProxyButtonClick=function(t){this.backpackPanel.showText.text+=P.getGameDataProxy().getGameName()+"\n"},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="BackpackMediator",i}(BaseMediator);t.BackpackMediator=e,__reflect(e.prototype,"game.BackpackMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.chuangDangPanel=new t.ChuangDangPanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_CHUANGDANG,PanelNotify.CLOSE_CHUANGDANG]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_CHUANGDANG:this.showUI(this.chuangDangPanel,!1,0,0,Number(this.chuangDangPanel.input1.text));break;case PanelNotify.CLOSE_CHUANGDANG:this.closePanel(1)}},i.prototype.initUI=function(){this.chuangDangPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.chuangDangPanel.readExcel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.readExcelButtonClick,this)},i.prototype.initData=function(){},i.prototype.readExcelButtonClick=function(t){egret.setTimeout(function(){this.sendNotification(PanelNotify.OPEN_CHUANGDANG)},this,100),this.closePanel(0)},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="ChuangDangMediator",i}(BaseMediator);t.ChuangDangMediator=e,__reflect(e.prototype,"game.ChuangDangMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.mapPanel=new t.MapPanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_MAP,PanelNotify.CLOSE_MAP]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_MAP:this.showUI(this.mapPanel,!1,0,0,5);break;case PanelNotify.CLOSE_MAP:this.closePanel(1)}},i.prototype.initUI=function(){this.mapPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.mapPanel.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn1Click,this),this.mapPanel.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Click,this),this.mapPanel.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn3Click,this),this.mapPanel.btn4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn4Click,this),this.mapPanel.btn5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn5Click,this),this.mapPanel.btn6.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn6Click,this),TipsManager.addTips(this.mapPanel.img1,"没有动画tips！",0),TipsManager.addTips(this.mapPanel.img2,"从下到上渐现",1),TipsManager.addTips(this.mapPanel.img3,"从左向右",2),TipsManager.addTips(this.mapPanel.img4,"从右向左",3)},i.prototype.btn1Click=function(t){EffectUtils.showTips("从下到上弹出",1)},i.prototype.btn2Click=function(t){EffectUtils.showTips("从左至右弹出",2)},i.prototype.btn3Click=function(t){EffectUtils.showTips("从右至左弹出",3)},i.prototype.btn4Click=function(t){EffectUtils.showTips("从中间弹出渐渐消失",4)},i.prototype.btn5Click=function(t){EffectUtils.showTips("从大变小",5)},i.prototype.btn6Click=function(t){EffectUtils.showTips("警告字体颜色",5,!0)},i.prototype.initData=function(){},i.prototype.readExcelButtonClick=function(t){},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="MapMediator",i}(BaseMediator);t.MapMediator=e,__reflect(e.prototype,"game.MapMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.qinghuaPanel=new t.QianghuaPanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_QIANGHUA,PanelNotify.CLOSE_QIANGHUA,SysNotify.CONNECT_SERVER_SUCCESS,UserInfoNotify.UPDATE_DATA]},i.prototype.handleNotification=function(t){var e=t.getBody();switch(t.getName()){case PanelNotify.OPEN_QIANGHUA:this.showUI(this.qinghuaPanel,!1,0,0,3);break;case PanelNotify.CLOSE_QIANGHUA:this.closePanel(1);break;case SysNotify.CONNECT_SERVER_SUCCESS:this.qinghuaPanel.showText.text+="服务器连接成功...\n";break;case UserInfoNotify.UPDATE_DATA:this.qinghuaPanel.showText.text+="userId:"+e.getUserId()+"\nuserName:"+e.getUserName()}},i.prototype.initUI=function(){this.qinghuaPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.qinghuaPanel.connectServer.addEventListener(egret.TouchEvent.TOUCH_TAP,this.connectServerButtonClick,this),this.qinghuaPanel.sendMsg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sendMsgButtonClick,this)},i.prototype.initData=function(){},i.prototype.connectServerButtonClick=function(t){SocketManager.connectServer("echo.websocket.org",80)},i.prototype.sendMsgButtonClick=function(t){UserInfoRequest.sendUserInfo(Number(this.qinghuaPanel.input1.text),this.qinghuaPanel.input2.text)},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="QianghuaMediator",i}(BaseMediator);t.QianghuaMediator=e,__reflect(e.prototype,"game.QianghuaMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.rolePanel=new t.RolePanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_ROLE,PanelNotify.CLOSE_ROLE]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_ROLE:this.showUI(this.rolePanel,!1,0,0,4);break;case PanelNotify.CLOSE_ROLE:this.closePanel(1)}},i.prototype.initUI=function(){this.rolePanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.rolePanel.readExcel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.readExcelButtonClick,this)},i.prototype.initData=function(){},i.prototype.readExcelButtonClick=function(t){var e=P.getTemplateDataProxy().getGameData();this.rolePanel.showText.text+=e[this.rolePanel.input1.text][this.rolePanel.input2.text]+"\n"},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="RoleMediator",i}(BaseMediator);t.RoleMediator=e,__reflect(e.prototype,"game.RoleMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.shopPanel=new t.ShopPanel,o.isPlay1=!1,o.isPlay2=!1,o.isPlay3=!1,o.isPlay4=!1,o.isPlay5=!1,o.isPlay6=!1,o.isPlay7=!1,o.isPlay8=!1,o.isPlay9=!1,o.isPlay10=!1,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_SHOP,PanelNotify.CLOSE_SHOP]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_SHOP:this.showUI(this.shopPanel,!1,0,0,6);break;case PanelNotify.CLOSE_SHOP:this.closePanel(1)}},i.prototype.initUI=function(){this.shopPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.shopPanel.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn1Click,this),this.shopPanel.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn2Click,this),this.shopPanel.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn3Click,this),this.shopPanel.btn4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn4Click,this),this.shopPanel.btn5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn5Click,this),this.shopPanel.btn6.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn6Click,this),this.shopPanel.btn7.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn7Click,this),this.shopPanel.btn8.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn8Click,this),this.shopPanel.btn9.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn9Click,this),this.shopPanel.btn10.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btn10Click,this)},i.prototype.initData=function(){},i.prototype.btn1Click=function(t){this.isPlay1?(EffectUtils.showTips("取消旋转特效",5),EffectUtils.removeRotationEffect(this.shopPanel.img1),this.isPlay1=!1):(EffectUtils.showTips("旋转特效",5),EffectUtils.rotationEffect(this.shopPanel.img1,1e3),this.isPlay1=!0)},i.prototype.btn2Click=function(t){this.isPlay2?(EffectUtils.showTips("取消中心旋转特效",5),EffectUtils.removeRotationEffect(this.shopPanel.img2),this.isPlay2=!1):(EffectUtils.showTips("中心旋转特效",5),EffectUtils.rotationEffect(this.shopPanel.img2,1e3),this.isPlay2=!0)},i.prototype.btn3Click=function(t){EffectUtils.showTips("闪烁特效",5),EffectUtils.blinkEffect(this.shopPanel.img3,1e3)},i.prototype.btn4Click=function(t){EffectUtils.showTips("抖动特效",5),EffectUtils.shakeObj(this.shopPanel.img4)},i.prototype.btn5Click=function(t){EffectUtils.showTips("按下弹大",5),EffectUtils.playEffect(this.shopPanel.img5,1)},i.prototype.btn6Click=function(t){EffectUtils.showTips("按下轻微弹大",5),EffectUtils.playEffect(this.shopPanel.img6,2)},i.prototype.btn7Click=function(t){EffectUtils.showTips("按下变小放开变大",5),EffectUtils.playEffect(this.shopPanel.img7,3)},i.prototype.btn8Click=function(t){this.isPlay8?EffectUtils.showTips("正在持续变大变小呢！",5):(this.isPlay8=!0,EffectUtils.showTips("持续变大变小",5),EffectUtils.playScaleEffect(this.shopPanel.img8))},i.prototype.btn9Click=function(t){this.isPlay9?EffectUtils.showTips("正在上下浮动呢！",5):(this.isPlay9=!0,EffectUtils.showTips("上下浮动特效",5),EffectUtils.flyObj(this.shopPanel.img9,1e3,15))},i.prototype.btn10Click=function(t){this.isPlay10?EffectUtils.showTips("正在摇头呢！",5):(this.isPlay10=!0,EffectUtils.showTips("摇头特效",5),EffectUtils.rockObj(this.shopPanel.img10,500))},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="ShopMediator",i}(BaseMediator);t.ShopMediator=e,__reflect(e.prototype,"game.ShopMediator")}(game||(game={}));var game;!function(t){var e=function(e){function i(n){void 0===n&&(n=null);var o=e.call(this,i.NAME,n)||this;return o.zhaoXianPanel=new t.ZhaoXianPanel,o}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_ZHAOXIAN,PanelNotify.CLOSE_ZHAOXIAN]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_ZHAOXIAN:this.showUI(this.zhaoXianPanel,!1,0,0,5);break;case PanelNotify.CLOSE_ZHAOXIAN:this.closePanel(1)}},i.prototype.initUI=function(){this.zhaoXianPanel.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeButtonClick,this),this.menuBtn=new EButton(this,"yellowBtn_png",this.onMenuBtnTouchTap,"按钮特效1",30,1,null),this.menuBtn.x=-300,this.menuBtn.y=300,this.zhaoXianPanel.addChild(this.menuBtn),this.setBtn=new EButton(this,"yellowBtn_png",this.onSetBtnTouchTap,"按钮特效12",30,2,null),this.setBtn.x=-300,this.setBtn.y=400,this.zhaoXianPanel.addChild(this.setBtn),this.buttonBtn=new EButton(this,"yellowBtn_png",this.onButtonBtnTouchTap,"按钮特效3",30,3,null),this.buttonBtn.x=-300,this.buttonBtn.y=500,this.zhaoXianPanel.addChild(this.buttonBtn),this.initEffect()},i.prototype.initEffect=function(){egret.setTimeout(function(){egret.Tween.get(this.menuBtn).to({x:this.w/2-this.menuBtn.width/2},600,egret.Ease.backOut)},this,150),egret.setTimeout(function(){egret.Tween.get(this.setBtn).to({x:this.w/2-this.setBtn.width/2},600,egret.Ease.backOut)},this,300),egret.setTimeout(function(){egret.Tween.get(this.buttonBtn).to({x:this.w/2-this.buttonBtn.width/2},600,egret.Ease.backOut)},this,450)},i.prototype.onMenuBtnTouchTap=function(t){},i.prototype.onSetBtnTouchTap=function(t){},i.prototype.onButtonBtnTouchTap=function(t){},i.prototype.initData=function(){},i.prototype.closeButtonClick=function(t){this.closePanel(1)},i.NAME="ZhaoXianMediator",i}(BaseMediator);t.ZhaoXianMediator=e,__reflect(e.prototype,"game.ZhaoXianMediator")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/BackpackSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.BackpackPanel=e,__reflect(e.prototype,"game.BackpackPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/ChuangDangSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.ChuangDangPanel=e,__reflect(e.prototype,"game.ChuangDangPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/MapSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.MapPanel=e,__reflect(e.prototype,"game.MapPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/QianghuaSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.QianghuaPanel=e,__reflect(e.prototype,"game.QianghuaPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/RoleSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.RolePanel=e,__reflect(e.prototype,"game.RolePanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/ShopSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.ShopPanel=e,__reflect(e.prototype,"game.ShopPanel")}(game||(game={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panel/ZhaoXianSkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.ZhaoXianPanel=e,__reflect(e.prototype,"game.ZhaoXianPanel")}(game||(game={}));var EnJsonAnalyzer={onLoadStart:function(t,e){return __awaiter(this,void 0,void 0,function(){var i,n,o,a,r;return __generator(this,function(s){switch(s.label){case 0:return[4,t.load(e,RES.processor.TextProcessor)];case 1:return i=s.sent(),n=new newaes,o="dily6666",a="PKcs7",r=n.dx(i,o,a),r=JSON.parse(r),[2,r]}})})},onRemoveStart:function(t,e){return Promise.resolve()}},ProtoAnalyzer={onLoadStart:function(t,e){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(n){switch(n.label){case 0:return[4,t.load(e,RES.processor.TextProcessor)];case 1:return i=n.sent(),[2,i]}})})},onRemoveStart:function(t,e){return Promise.resolve()}},betDetails;!function(t){var e=function(e){function i(t){return void 0===t&&(t=null),e.call(this,i.NAME,t)||this}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_BET_DETAIL,PanelNotify.CLOSE_BET_DETAIL]},i.prototype.handleNotification=function(t){switch(this._badyData=t.getBody(),t.getName()){case PanelNotify.OPEN_BET_DETAIL:var e="betDetails";RES.getRes("tzxq_png")?this.showMainUI():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this)),RES.loadGroup(e);break;case PanelNotify.CLOSE_BET_DETAIL:this.closePanel(1)}},i.prototype.showMainUI=function(){null==this._betDetailsPanel&&(this._betDetailsPanel=new t.BetDetailsPanel(this._badyData)),this.showUIInCenter(this._betDetailsPanel,!0,1)},i.prototype.stLoadProcess=function(){},i.prototype.error=function(){console.warn("资源加载失败：betDetails")},i.prototype.destroy=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this),this._betDetailsPanel=null,e.prototype.destroy.call(this)},i.NAME="BetDetailsMediator",i}(BasePanelMediator);t.BetDetailsMediator=e,__reflect(e.prototype,"betDetails.BetDetailsMediator")}(betDetails||(betDetails={}));var bigWinner;!function(t){var e=function(e){function i(t){return void 0===t&&(t=null),e.call(this,i.NAME,t)||this}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_BIG_WINNER,PanelNotify.CLOSE_BIG_WINNER]},i.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_BIG_WINNER:var e="bigWinner";RES.getRes("bigWinnerBg_png")?this.showMainUI():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this)),RES.loadGroup(e);break;case PanelNotify.CLOSE_BIG_WINNER:this.closePanel(1)}},i.prototype.showMainUI=function(){null==this._bigWinnerPanel&&(this._bigWinnerPanel=new t.BigWinnerPanel),this.showUIInCenter(this._bigWinnerPanel,!0,1)},i.prototype.stLoadProcess=function(){},i.prototype.error=function(){console.warn("资源加载失败：bigWinner")},i.prototype.destroy=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this),this._bigWinnerPanel=null,e.prototype.destroy.call(this)},i.NAME="BigWinnerMediator",i}(BasePanelMediator);t.BigWinnerMediator=e,__reflect(e.prototype,"bigWinner.BigWinnerMediator")}(bigWinner||(bigWinner={}));var gameMethod;!function(t){var e=function(e){function i(t){return void 0===t&&(t=null),e.call(this,i.NAME,t)||this}return __extends(i,e),i.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_GAME_METHOD,PanelNotify.CLOSE_GAME_METHOD]},i.prototype.handleNotification=function(t){switch(this._badyData=t.getBody(),t.getName()){case PanelNotify.OPEN_GAME_METHOD:if(RES.getRes("jbbg_png"))this.showMainUI();else{var e="gameMethod";RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this),RES.loadGroup(e)}break;case PanelNotify.CLOSE_GAME_METHOD:this.closePanel(1)}},i.prototype.showMainUI=function(){this._badyData?(null==this._betDetailsPanel&&(this._betDetailsPanel=new t.GameMethodPanel),this.showUIInCenter(this._betDetailsPanel,!0,1)):(null==this._prizeInfoPanel&&(this._prizeInfoPanel=new t.PrizeInfoPanel),this.showUIInCenter(this._prizeInfoPanel,!0,1))},i.prototype.stLoadProcess=function(){},i.prototype.error=function(){console.warn("资源加载失败：betDetails")},i.prototype.destroy=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.showMainUI,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.stLoadProcess,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.error,this),this._betDetailsPanel=null,this._prizeInfoPanel=null,e.prototype.destroy.call(this)},i.NAME="GameMethodMediator",i}(BasePanelMediator);t.GameMethodMediator=e,__reflect(e.prototype,"gameMethod.GameMethodMediator")}(gameMethod||(gameMethod={}));var StopBetMediator=function(t){function e(i){return void 0===i&&(i=null),t.call(this,e.NAME,i)||this}return __extends(e,t),e.prototype.listNotificationInterests=function(){return[PanelNotify.OPEN_STOP_BET,PanelNotify.CLOSE_STOP_BET]},e.prototype.handleNotification=function(t){t.getBody();switch(t.getName()){case PanelNotify.OPEN_STOP_BET:null==this._stopBetPanel&&(this._stopBetPanel=new StopBetPanel),this.showUI(this._stopBetPanel,!1,0,0,2);break;case PanelNotify.CLOSE_STOP_BET:this.closePanel(0)}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.onTimer=function(t){game.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_STOP_BET)},e.NAME="StopBetMediator",e}(BasePanelMediator);__reflect(StopBetMediator.prototype,"StopBetMediator");var StopBetPanel=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/StopBetPanelSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(ZjwComponent);__reflect(StopBetPanel.prototype,"StopBetPanel");var betDetails;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/BetDetails/BetDetailsItem.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.playerbet_lab.text=this.data.money+" HDAG",this.playerName_lab.text=this.data.playerName;var t="";switch(this.data.region){case EnumerationType.RegionWinner.black:t="heiSheng";break;case EnumerationType.RegionWinner.red:t="hongSheng";break;case EnumerationType.RegionWinner.blackS:case EnumerationType.RegionWinner.redS:t="otherPoint"}t+="_png",this.color_img.source=t},e}(eui.ItemRenderer);t.BetDetailsItem=e,__reflect(e.prototype,"betDetails.BetDetailsItem",["eui.UIComponent","egret.DisplayObject"])}(betDetails||(betDetails={}));var betDetails;!function(t){var e=function(e){function i(t){void 0===t&&(t=!0);var i=e.call(this)||this;return i._isDetail=t,i.skinName="resource/ui/panelYDD/BetDetails/BetDetailsPanelSkin.exml",i}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.details_scl.verticalScrollBar.visible=!1,this.details_scl.verticalScrollBar.autoVisibility=!1},i.prototype.initView=function(){e.prototype.initView.call(this),this._isDetail?(this.currentState="betDetail",this.details_list.itemRenderer=t.BetDetailsItem):(this.currentState="betRecord",this.details_list.itemRenderer=t.BetRecordsItem),this.details_list.dataProvider=this.listData()},i.prototype.listData=function(){if(this._isDetail){var t=new eui.ArrayCollection(AllData.instance.BetDetailsTypeDatas);return t}var t=new eui.ArrayCollection(AllData.instance.BetRecordsTypeDatas);return t},i.prototype.onBtnClick=function(t){var e=t.target;switch(e){case this.close_btn:game.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_BET_DETAIL)}},i.prototype.refreshView=function(){this.details_list.dataProvider=this.listData()},i}(ZjwComponent);t.BetDetailsPanel=e,__reflect(e.prototype,"betDetails.BetDetailsPanel")}(betDetails||(betDetails={}));var betDetails;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/BetDetails/BetRecordsItemSkin.exml",e}return __extends(e,t),e.prototype.dataChanged=function(){this.betNum_lab.text=this.data.money+" HDAG";var t=this.data.isWin?"+":"-";this.TorF_lab.text=t+this.data.money+" HDAG";var e="";switch(this.data.region){case EnumerationType.RegionWinner.black:e="heiSheng";break;case EnumerationType.RegionWinner.red:e="hongSheng";break;case EnumerationType.RegionWinner.blackS:case EnumerationType.RegionWinner.redS:e="otherPoint"}e+="_png",this.color_img.source=e},e}(eui.ItemRenderer);t.BetRecordsItem=e,__reflect(e.prototype,"betDetails.BetRecordsItem",["eui.UIComponent","egret.DisplayObject"])}(betDetails||(betDetails={}));var bigWinner;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/BigWinner/BigWinnerItemSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.jiangBei_img.source="jiangBei"+this.data.jiangBeiNum+"_png",this.playerName_lab.text=this.data.playerName,this.value_lab.text=this.data.value},e}(eui.ItemRenderer);t.BigWinnerItem=e,__reflect(e.prototype,"bigWinner.BigWinnerItem",["eui.UIComponent","egret.DisplayObject"])}(bigWinner||(bigWinner={}));var bigWinner;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="resource/ui/panelYDD/BigWinner/BigWinnerPanelSkin.exml",t}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},i.prototype.initView=function(){e.prototype.initView.call(this),this.rankList.dataProvider=this.listData(),this.rankList.itemRenderer=t.BigWinnerItem;var i=this;setTimeout(function(){i.closePanel()},5e3)},i.prototype.listData=function(){return new eui.ArrayCollection(AllData.instance.BigWinnerDatas)},i.prototype.refreshView=function(){this.rankList.dataProvider=this.listData()},i.prototype.closePanel=function(){game.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_BIG_WINNER)},i}(ZjwComponent);t.BigWinnerPanel=e,__reflect(e.prototype,"bigWinner.BigWinnerPanel")}(bigWinner||(bigWinner={}));var gameMethod;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/GameMethod/GameMethodItemSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.winner_lab.text=this.data[0],this.regionType_lab.text=this.data[2],this.moneyNum_lab.text=this.data[1]},e}(eui.ItemRenderer);t.GameMethodItem=e,__reflect(e.prototype,"gameMethod.GameMethodItem",["eui.UIComponent","egret.DisplayObject"])}(gameMethod||(gameMethod={}));var gameMethod;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.skinName="resource/ui/panelYDD/GameMethod/GameMethodPanelSkin.exml",t}return __extends(i,e),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i)},i.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.details_scl.verticalScrollBar.visible=!1,this.details_scl.verticalScrollBar.autoVisibility=!1,this.details_list.itemRenderer=t.GameMethodItem,this.details_list.dataProvider=this.listData()},i.prototype.listData=function(){var t=new eui.ArrayCollection(AllData.instance.GmaeMethItemTypeDatas);return t},i.prototype.onBtnClick=function(t){e.prototype.onBtnClick.call(this,t);var i=t.target;switch(i){case this.close_btn:game.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_GAME_METHOD)}},i}(ZjwComponent);t.GameMethodPanel=e,__reflect(e.prototype,"gameMethod.GameMethodPanel")}(gameMethod||(gameMethod={}));var gameMethod;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/panelYDD/GameMethod/PrizeInfoPanelSkin.exml",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.scr.verticalScrollBar.visible=!1,this.scr.verticalScrollBar.autoVisibility=!1,this.descrotion_lab.text=this.desc},e.prototype.onBtnClick=function(e){t.prototype.onBtnClick.call(this,e);var i=e.target;switch(i){case this.close_btn:game.AppFacade.getInstance().sendNotification(PanelNotify.CLOSE_GAME_METHOD)}},Object.defineProperty(e.prototype,"desc",{get:function(){return"游戏使用一副除去大小王的扑克牌，共4个花色52张牌。 诈金花 诈金花 \n1、豹子（AAA最大，222最小）。 \n2、同花顺（AKQ最大，A23最小）。 \n3、同花（AKJ最大，352最小）。 \n4、顺子（AKQ最大，234最小）。 \n5、对子（AAK最大，223最小）。 \n6、单张（AKJ最大，352最小）。\n玩“诈金花”可能牌小诈走牌大，是实力、勇气和智谋的较量，是冒险家的游戏。\n 豹子：三张点相同的牌，AAA、222。\n\n游戏使用一副除去大小王的扑克牌，共4个花色52张牌。 诈金花 诈金花 \n1、豹子（AAA最大，222最小）。 \n2、同花顺（AKQ最大，A23最小）。 \n3、同花（AKJ最大，352最小）。 \n4、顺子（AKQ最大，234最小）。 \n5、对子（AAK最大，223最小）。 \n6、单张（AKJ最大，352最小）。\n玩“诈金花”可能牌小诈走牌大，是实力、勇气和智谋的较量，是冒险家的游戏。\n 豹子：三张点相同的牌，AAA、222。\n\n游戏使用一副除去大小王的扑克牌，共4个花色52张牌。 诈金花 诈金花 \n1、豹子（AAA最大，222最小）。 \n2、同花顺（AKQ最大，A23最小）。 \n3、同花（AKJ最大，352最小）。 \n4、顺子（AKQ最大，234最小）。 \n5、对子（AAK最大，223最小）。 \n6、单张（AKJ最大，352最小）。\n玩“诈金花”可能牌小诈走牌大，是实力、勇气和智谋的较量，是冒险家的游戏。\n 豹子：三张点相同的牌，AAA、222。\n\n游戏使用一副除去大小王的扑克牌，共4个花色52张牌。 诈金花 诈金花 \n1、豹子（AAA最大，222最小）。 \n2、同花顺（AKQ最大，A23最小）。 \n3、同花（AKJ最大，352最小）。 \n4、顺子（AKQ最大，234最小）。 \n5、对子（AAK最大，223最小）。 \n6、单张（AKJ最大，352最小）。\n玩“诈金花”可能牌小诈走牌大，是实力、勇气和智谋的较量，是冒险家的游戏。\n 豹子：三张点相同的牌，AAA、222。"},enumerable:!0,configurable:!0}),e}(ZjwComponent);t.PrizeInfoPanel=e,__reflect(e.prototype,"gameMethod.PrizeInfoPanel")}(gameMethod||(gameMethod={}));var game;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/ui/scene/HomeCitySkin.exml",e.addEventListener(eui.UIEvent.COMPLETE,e.createCompleteEvent,e),e}return __extends(e,t),e.prototype.createCompleteEvent=function(t){this.removeEventListener(eui.UIEvent.COMPLETE,this.createCompleteEvent,this),GameLayerManager.gameLayer().sceneLayer.addChild(this)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e}(eui.Component);t.HomeCity=e,__reflect(e.prototype,"game.HomeCity")}(game||(game={}));var SocketManager;!function(t){function e(t,e){void 0===t&&(t=""),void 0===e&&(e=80),Global.showWaritPanel(),this.sock=new egret.WebSocket,this.sock.type="webSocketTypeBinary",this.sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.connect(t,e)}function i(){Global.hideWaritPanel(),game.AppFacade.getInstance().sendNotification(SysNotify.CONNECT_SERVER_SUCCESS)}function n(){Global.hideWaritPanel();var t=new egret.ByteArray;this.sock.readBytes(t);var e=t.readInt(),i=t.readShort(),n=new egret.ByteArray;t.readBytes(n),game.AppFacade.getInstance().sendNotification("Processor_"+e+"_"+i,n)}function o(t,e,i){Global.showWaritPanel();var n=new egret.ByteArray;n.writeInt(t),n.writeShort(e),n.writeBytes(new egret.ByteArray(i)),this.sock.writeBytes(n)}new egret.WebSocket;t.connectServer=e,t.onSocketOpen=i,t.onReceiveMessage=n,t.sendMessage=o}(SocketManager||(SocketManager={}));var EffectUtils;!function(t){function e(t,e){if(void 0===e&&(e=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[t.hashCode]){null!=this.rotationArr[t.hashCode]&&this.rotationArr[t.hashCode]||(this.rotationArr[t.hashCode]=!0);var i=function(){this.rotationArr[t.hashCode]&&null!=t&&(t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this))};t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this)
}}function i(t){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[t.hashCode]=!1}function n(t,e){void 0===e&&(e=1e3),new BitmapBlink(t,e)}function o(t){var e=80,i=t.x;egret.Tween.get(t).to({x:t.x-10},e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,2*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x-20},e)},this,3*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,4*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:i},e)},this,5*e)}function a(t){void 0===t&&(t=1);var e=GameConfig.curPanel,i=40,n=e.x,o=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},i)},this,5*i)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},i)},this,5*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:o},i)},this,6*i))}function r(t,e,i){switch(void 0===t&&(t=""),void 0===e&&(e=1),void 0===i&&(i=!1),e){case 1:TipsUtils.showTipsDownToUp(t,i);break;case 2:TipsUtils.showTipsLeftOrRight(t,i,!0);break;case 3:TipsUtils.showTipsLeftOrRight(t,i,!1);break;case 4:TipsUtils.showTipsFromCenter(t,i);break;case 5:TipsUtils.showTipsBigToSmall(t,i)}}function s(t,e){if(void 0===e&&(e=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var i=function(){this.isPlayEffectPlay=!1},n=function(){1==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(i,this):2==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.backOut).call(i,this):3==e&&egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},100).call(i,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(n,this)}}function c(t){var e=function(){if(null!=t){var i=function(){t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({alpha:1},1e3).call(e,self)};t.alpha=1,egret.Tween.get(t).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(i,self)}};e()}function h(t,e,i){void 0===i&&(i=50);var n=function(){if(null!=t){var o=function(){egret.Tween.get(t).to({y:t.y-i},e).call(n,this)};egret.Tween.get(t).to({y:t.y+i},e).call(o,this)}};n()}function l(t,e,i){void 0===i&&(i=20);var n=function(){if(null!=t){var o=function(){egret.Tween.get(t).to({rotation:-i},e).call(n,this)};egret.Tween.get(t).to({rotation:i},e).call(o,this)}};n()}function u(t,e,i){void 0===e&&(e=""),void 0===i&&(i=200);for(var n=e.split(""),o=n.length,a=0;o>a;a++)egret.setTimeout(function(){t.appendText(n[Number(this)])},a,i*a)}function p(t,e,i,n,o,a){void 0===e&&(e=100),void 0===i&&(i=.8),void 0===n&&(n=100),void 0===o&&(o=5),void 0===a&&(a=100);var r=t.y;egret.Tween.get(t).to({scaleY:i},e).to({y:t.y-o,scaleY:1},n).to({y:r},a)}t.rotationEffect=e,t.removeRotationEffect=i,t.blinkEffect=n,t.shakeObj=o,t.shakeScreen=a,t.showTips=r;t.playEffect=s,t.playScaleEffect=c,t.flyObj=h,t.rockObj=l,t.typerEffect=u,t.jumpEffect=p}(EffectUtils||(EffectUtils={}));var Global;!function(t){function e(){t.waitPanel=new WaitPanel(1),GameLayerManager.gameLayer().maskLayer.removeChildren(),GameLayerManager.gameLayer().maskLayer.addChild(t.waitPanel)}function i(){null!=t.waitPanel&&GameLayerManager.gameLayer().maskLayer.contains(t.waitPanel)&&GameLayerManager.gameLayer().maskLayer.removeChild(t.waitPanel)}function n(t){var e=new egret.HtmlTextParser;return e.parser(t)}function o(e){return null==t.message&&(t.message=dcodeIO.ProtoBuf.loadProto(RES.getRes("template_proto"))),t.message.build(e)}function a(t){switch(t){case 0:return"零";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";case 7:return"七";case 8:return"八";case 9:return"九";default:console.log("default case")}}t.showWaritPanel=e,t.hideWaritPanel=i,t.getTextFlow=n,t.getMessage=o,t.getNumber=a}(Global||(Global={}));var NativeApi;!function(t){function e(t,e){egret.localStorage.setItem(t,e)}function i(t){return egret.localStorage.getItem(t)}function n(t){egret.localStorage.removeItem(t)}function o(){egret.localStorage.clear()}function a(){}function r(){}function s(t){window.open("tel:"+t,"_self")}function c(t){window.open("sms:"+t,"_self")}function h(){return window.location.href}t.setLocalData=e,t.getLocalData=i,t.deleteLocalData=n,t.clearLocalData=o,t.getMic=a,t.getScreen=r,t.callPhone=s,t.sendMessage=c,t.getCurUrl=h,t.curAngle=Number(window.orientation)}(NativeApi||(NativeApi={}));var RegUtils;!function(t){function e(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return e.test(t)?!0:(alert("您输入的Email地址格式不正确！"),!1)}function i(t){if(a(t))return!1;var e=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return e.test(t)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(t){var e="/^1[3|4|5|7|8][0-9]d{4,8}$/",i=new RegExp(e);return i.test(t)?!0:!1}function o(t){var e=/^[0][1-9]{2,3}-[0-9]{5,10}$/,i=/^[1-9]{1}[0-9]{5,8}$/,n="您输入的电话号码不正确!";return t.length>9?e.test(t)?!0:(alert(n),!1):i.test(t)?!0:(alert(n),!1)}function a(t){if(""==t)return!0;var e="^[ ]+$",i=new RegExp(e);return i.test(t)}function r(t){var e=/^[-]{0,1}[0-9]{1,}$/;return e.test(t)}function s(t){var e="^[0-9]+$",i=new RegExp(e);return-1!=t.search(i)?!0:!1}function c(t){var e="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(e);return i.test(t)?!0:!1}function h(t,e){var i=" ",n=-1;if(0==e||1==e){for(;" "==i;)++n,i=t.substr(n,1);t=t.substring(n)}if(0==e||2==e){for(i=" ",n=t.length;" "==i;)--n,i=t.substr(n,1);t=t.substring(0,n+1)}return t}t.checkEmail=e,t.isIP=i,t.checkMobile=n,t.checkPhone=o,t.isNull=a,t.isInteger=r,t.isNumber=s,t.isMoney=c,t.cTrim=h}(RegUtils||(RegUtils={}));var TipsManager;!function(t){function e(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),null==this._dict&&(this._dict=[]),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.showTips,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.removeTips,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.removeTips,this),null==this._dict[t.hashCode]&&(this._dict[t.hashCode]=[],this._dict[t.hashCode].descStr=e,this._dict[t.hashCode].effectType=i)}function i(t){var e=t.currentTarget,i="",n=0;if(null==this._tips){null!=this._dict[e.hashCode]&&(i=this._dict[e.hashCode].descStr,n=this._dict[e.hashCode].effectType),this._tips=new TipsPanel(this._dict[e.hashCode].descStr),GameLayerManager.gameLayer().effectLayer.contains(this._tips)||GameLayerManager.gameLayer().effectLayer.addChild(this._tips);var o=e.parent.localToGlobal(e.x,e.y);switch(o.x=o.x+e.width/2,o.y=o.y-this._tips.getHeight(),o.x+this._tips.getWidth()>GameConfig.curWidth()?o.x=GameConfig.curWidth()-this._tips.getWidth():o.x<0&&(o.x=0),o.y+this._tips.getHeight()>GameConfig.curHeight()?o.y=GameConfig.curHeight()-this._tips.getHeight():o.y<0&&(o.y=0),this._tips.x=o.x,this._tips.y=o.y,n){case 0:this._tips.alpha=0,egret.Tween.get(this._tips).to({alpha:1},300);break;case 1:this._tips.alpha=0,this._tips.y+=this._tips.getHeight(),egret.Tween.get(this._tips).to({alpha:1,y:this._tips.y-this._tips.getHeight()},500,egret.Ease.backOut);break;case 2:this._tips.alpha=0,this._tips.x-=this._tips.getWidth(),egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x+this._tips.getWidth()},500,egret.Ease.backOut);break;case 3:this._tips.alpha=0,this._tips.x+=this._tips.getWidth(),egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x-this._tips.getWidth()},500,egret.Ease.backOut)}}}function n(t){t.currentTarget;if(null!=this._tips){var e=function(){GameLayerManager.gameLayer().effectLayer.contains(this._tips)&&(GameLayerManager.gameLayer().effectLayer.removeChild(this._tips),this._tips=null)};egret.Tween.get(this._tips).to({alpha:0},300).call(e,this)}}t.addTips=e,t.showTips=i,t.removeTips=n}(TipsManager||(TipsManager={}));var TipsPanel=function(t){function e(e){void 0===e&&(e="");var i=t.call(this)||this;return i.descStr="",i.descStr=e,i.initUI(),i}return __extends(e,t),e.prototype.initUI=function(){this.bg=new egret.Bitmap,this.bg.texture=RES.getRes("tipsBg_png"),this.addChild(this.bg),this.bg.touchEnabled=!0,this.descTF=new egret.TextField,this.addChild(this.descTF),this.descTF.textColor=0,this.descTF.size=20,this.descTF.x=5,this.descTF.textAlign="center",this.descTF.text=this.descStr;var t=new egret.Rectangle(5,5,5,5);this.bg.scale9Grid=t,this.bg.width=this.descTF.width+10,this.bg.height=3*this.descTF.height,this.descTF.y=this.bg.height/2-this.descTF.height/2+2},e.prototype.getHeight=function(){return this.bg.height},e.prototype.getWidth=function(){return this.bg.width},e}(eui.Component);__reflect(TipsPanel.prototype,"TipsPanel");var ContinueAmiChain=function(){function t(t){this._timeSpeed=t,this._amiFunctionChain=[],this._objChain=[],this._parameterChain=[],this._starChecks=[],this._needCheck=[],this._doOrderIndex=[],this._currentCheckNum=0,this._nextDoIndex=0}return t.prototype.registerAction=function(t,e,i,n,o){var a=this._amiFunctionChain.length;this._amiFunctionChain[a]=t,this._objChain[a]=e,this._starChecks[a]=i,this._needCheck[a]=n,this._parameterChain[a]=o,this._starPoins=[];for(var r=this.getAllStarPoint(),s=r.length,c=0;s>c;c++){var h={index:r[c].index,value:r[c].value};this._starPoins.push(h);for(var l=c+1;s>l;l++)if(r[l].value<r[c].value){var u=r[l];r[l]=r[c],r[c]=u}}for(var c=0;s>c;c++){var u=r[c];this._doOrderIndex[c]=u.index}},t.prototype.play=function(){this._nextDoIndex=0,this._currentCheckNum=0,this.startTimer()},t.prototype.startTimer=function(){null==this._timer&&(this._timer=new egret.Timer(this._timeSpeed),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer,this)),this._timer.start(),this.onTimer(null)},t.prototype.removeTimer=function(){this._timer&&(this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this),this._timer.stop(),this._timer=null)},t.prototype.onTimer=function(t){this.checkToDo(),this._currentCheckNum++},t.prototype.checkToDo=function(){var t=this._doOrderIndex[this._nextDoIndex];return void 0==t?void this.removeTimer():void(this._starPoins[t].value==this._currentCheckNum&&(this._amiFunctionChain[t].apply(this._objChain[t],[this._parameterChain[t]]),this._nextDoIndex++,this.checkToDo()))},t.prototype.getAllStarPoint=function(){var t=[],e={index:0,value:this._starChecks[0]};null!=e&&t.push(e);for(var i=this._amiFunctionChain.length,n=1;i>n;n++){for(var o=this._starChecks[n],a=n-1;a>=0;a--)o+=this._starChecks[a],o+=this._needCheck[a];var r={index:n,value:o};t.push(r)}return t},t}();__reflect(ContinueAmiChain.prototype,"ContinueAmiChain");var ErgodicUtils;!function(t){function e(t){for(var e=[],i=t.numChildren,n=0;i>n;n++){var o=t.getChildAt(n);o instanceof eui.Button?e.push(o):o instanceof eui.Group&&e.push.apply(e,this.getAllButtonByGroup(o))}return e}function i(t){for(var e=[],i=t.numChildren,n=0;i>n;n++){var o=t.getChildAt(n);o instanceof eui.Button?e.push(o):o instanceof eui.Group&&e.push.apply(e,this.getAllButtonByGroup(o))}return e}t.getAllButton=e,t.getAllButtonByGroup=i}(ErgodicUtils||(ErgodicUtils={}));var ObjectPool=function(){function t(){this.pool={}}return Object.defineProperty(t,"instance",{get:function(){return null==t._objectPool&&(t._objectPool=new t),t._objectPool},enumerable:!0,configurable:!0}),t.prototype.pop=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];null==this.pool[t]&&(this.pool[t]=[]);var n=this.pool[t];if(n.length>0)return n.pop();var o,a=e.length,r=egret.getDefinitionByName(t);switch(a){case 0:o=new r;break;case 1:o=new r(e[0]);break;case 2:o=new r(e[0],e[1]);break;case 3:o=new r(e[0],e[1],e[2]);break;case 4:o=new r(e[0],e[1],e[2],e[3]);break;case 5:o=new r(e[0],e[1],e[2],e[3],e[4])}return o.className=t,o},t.prototype.push=function(t,e){void 0===e&&(e=null);var i=t.className;return null==this.pool[i]?void console.log("回收对象的数组不存在"):(this.pool[i].push(t),void(this.pool[i]&&e&&this.dealFun(i,e)))},t.prototype.create=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var o=[],a=0;e>a;a++)o.push(this.pop.apply(this,[t].concat(i)));for(a=0;e>a;a++)this.push(o.pop())},t.prototype.getLen=function(t){return this.pool[t]?this.pool[t].length:0},t.prototype.clear=function(t,e){void 0===e&&(e=null),this.pool[t]&&(e&&this.dealFun(t,e),this.pool[t]=null,delete this.pool[t])},t.prototype.dealFun=function(t,e){if(this.pool[t])for(var i=this.pool[t],n=i.length,o=0;n>o;o++)i[o][e]&&i[o][e]()},t}();__reflect(ObjectPool.prototype,"ObjectPool");var BitmapBlink=function(t){function e(e,i,n){void 0===n&&(n=!0);var o=t.call(this)||this;return o._target=e,o._time=i,n&&o.start(),o}return __extends(e,t),e.prototype.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},e.prototype.runDown=function(t){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},e.prototype.runUp=function(t){this._target.alpha+=.045,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},e.prototype.checkOver=function(){var t=egret.getTimer();return t-this._currTime>=this._time?(this.destroy(),!0):!1},e.prototype.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);__reflect(BitmapBlink.prototype,"BitmapBlink");var TipsUtils;!function(t){function e(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new egret.TextField;i.size=24,i.y=GameConfig.curHeight()/2,e?i.textColor=GameConfig.TextColors.red:i.textColor=GameConfig.TextColors.green,i.alpha=0,i.text=t,i.strokeColor=0,i.x=GameConfig.curWidth()/2-i.width/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,GameLayerManager.gameLayer().effectLayer.contains(i)||GameLayerManager.gameLayer().effectLayer.addChild(i);var n=function(){GameLayerManager.gameLayer().effectLayer.contains(i)&&(GameLayerManager.gameLayer().effectLayer.removeChild(i),i=null)},o=function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)};i.visible=!0,egret.Tween.get(i).to({y:i.y-120,alpha:1},800,egret.Ease.backOut).call(o,this)}function i(t,e,i){void 0===t&&(t=""),void 0===e&&(e=!1),void 0===i&&(i=!0);var n=new egret.TextField;n.size=24,n.y=GameConfig.curHeight()/2,e?n.textColor=GameConfig.TextColors.red:n.textColor=GameConfig.TextColors.green,n.alpha=0,n.text=t,n.strokeColor=0,i?n.x=-n.width:n.x=GameConfig.curWidth(),n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER,GameLayerManager.gameLayer().effectLayer.contains(n)||GameLayerManager.gameLayer().effectLayer.addChild(n),i?egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:n.x+100},500):egret.Tween.get(n).to({x:n.x-100},500)},this,300),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:GameConfig.curWidth()},300,egret.Ease.sineIn):egret.Tween.get(n).to({x:-n.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){GameLayerManager.gameLayer().effectLayer.contains(n)&&(GameLayerManager.gameLayer().effectLayer.removeChild(n),n=null)},this,1100)}function n(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new TipText(t);i.y=GameConfig.curHeight()/2,i.alpha=0,i.x=GameConfig.curWidth()/2,GameLayerManager.gameLayer().effectLayer.contains(i)||GameLayerManager.gameLayer().effectLayer.addChild(i),i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.scaleX=0,i.scaleY=0;var n=function(){GameLayerManager.gameLayer().effectLayer.contains(i)&&(GameLayerManager.gameLayer().effectLayer.removeChild(i),i=null)};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)}function o(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new egret.TextField;i.size=24,i.y=GameConfig.curHeight()/2,e?i.textColor=GameConfig.TextColors.red:i.textColor=GameConfig.TextColors.green,i.alpha=0,i.text=t,i.strokeColor=0,i.x=GameConfig.curWidth()/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,GameLayerManager.gameLayer().effectLayer.contains(i)||GameLayerManager.gameLayer().effectLayer.addChild(i),i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.scaleX=4,i.scaleY=4;var n=function(){GameLayerManager.gameLayer().effectLayer.contains(i)&&(GameLayerManager.gameLayer().effectLayer.removeChild(i),i=null)};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)}t.showTipsDownToUp=e,t.showTipsLeftOrRight=i,t.showTipsFromCenter=n,t.showTipsBigToSmall=o}(TipsUtils||(TipsUtils={}));